import{createRequire as bw}from"node:module";var Cw=Object.create;var{getPrototypeOf:xw,defineProperty:U$,getOwnPropertyNames:_w}=Object;var uw=Object.prototype.hasOwnProperty;var f0=($,q,w)=>{w=$!=null?Cw(xw($)):{};let R=q||!$||!$.__esModule?U$(w,"default",{value:$,enumerable:!0}):w;for(let T of _w($))if(!uw.call(R,T))U$(R,T,{get:()=>$[T],enumerable:!0});return R};var N=($,q)=>()=>(q||$((q={exports:{}}).exports,q),q.exports);var s=bw(import.meta.url);var V0=N((yw)=>{class g0 extends Error{constructor($,q,w){super(w);Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=q,this.exitCode=$,this.nestedError=void 0}}class N$ extends g0{constructor($){super(1,"commander.invalidArgument",$);Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}}yw.CommanderError=g0;yw.InvalidArgumentError=N$});var j0=N((sw)=>{var{InvalidArgumentError:vw}=V0();class z${constructor($,q){switch(this.description=q||"",this.variadic=!1,this.parseArg=void 0,this.defaultValue=void 0,this.defaultValueDescription=void 0,this.argChoices=void 0,$[0]){case"<":this.required=!0,this._name=$.slice(1,-1);break;case"[":this.required=!1,this._name=$.slice(1,-1);break;default:this.required=!0,this._name=$;break}if(this._name.length>3&&this._name.slice(-3)==="...")this.variadic=!0,this._name=this._name.slice(0,-3)}name(){return this._name}_concatValue($,q){if(q===this.defaultValue||!Array.isArray(q))return[$];return q.concat($)}default($,q){return this.defaultValue=$,this.defaultValueDescription=q,this}argParser($){return this.parseArg=$,this}choices($){return this.argChoices=$.slice(),this.parseArg=(q,w)=>{if(!this.argChoices.includes(q))throw new vw(`Allowed choices are ${this.argChoices.join(", ")}.`);if(this.variadic)return this._concatValue(q,w);return q},this}argRequired(){return this.required=!0,this}argOptional(){return this.required=!1,this}}function kw($){let q=$.name()+($.variadic===!0?"...":"");return $.required?"<"+q+">":"["+q+"]"}sw.Argument=z$;sw.humanReadableArgName=kw});var v0=N((rw)=>{var{humanReadableArgName:dw}=j0();class H${constructor(){this.helpWidth=void 0,this.minWidthToWrap=40,this.sortSubcommands=!1,this.sortOptions=!1,this.showGlobalOptions=!1}prepareContext($){this.helpWidth=this.helpWidth??$.helpWidth??80}visibleCommands($){let q=$.commands.filter((R)=>!R._hidden),w=$._getHelpCommand();if(w&&!w._hidden)q.push(w);if(this.sortSubcommands)q.sort((R,T)=>{return R.name().localeCompare(T.name())});return q}compareOptions($,q){let w=(R)=>{return R.short?R.short.replace(/^-/,""):R.long.replace(/^--/,"")};return w($).localeCompare(w(q))}visibleOptions($){let q=$.options.filter((R)=>!R.hidden),w=$._getHelpOption();if(w&&!w.hidden){let R=w.short&&$._findOption(w.short),T=w.long&&$._findOption(w.long);if(!R&&!T)q.push(w);else if(w.long&&!T)q.push($.createOption(w.long,w.description));else if(w.short&&!R)q.push($.createOption(w.short,w.description))}if(this.sortOptions)q.sort(this.compareOptions);return q}visibleGlobalOptions($){if(!this.showGlobalOptions)return[];let q=[];for(let w=$.parent;w;w=w.parent){let R=w.options.filter((T)=>!T.hidden);q.push(...R)}if(this.sortOptions)q.sort(this.compareOptions);return q}visibleArguments($){if($._argsDescription)$.registeredArguments.forEach((q)=>{q.description=q.description||$._argsDescription[q.name()]||""});if($.registeredArguments.find((q)=>q.description))return $.registeredArguments;return[]}subcommandTerm($){let q=$.registeredArguments.map((w)=>dw(w)).join(" ");return $._name+($._aliases[0]?"|"+$._aliases[0]:"")+($.options.length?" [options]":"")+(q?" "+q:"")}optionTerm($){return $.flags}argumentTerm($){return $.name()}longestSubcommandTermLength($,q){return q.visibleCommands($).reduce((w,R)=>{return Math.max(w,this.displayWidth(q.styleSubcommandTerm(q.subcommandTerm(R))))},0)}longestOptionTermLength($,q){return q.visibleOptions($).reduce((w,R)=>{return Math.max(w,this.displayWidth(q.styleOptionTerm(q.optionTerm(R))))},0)}longestGlobalOptionTermLength($,q){return q.visibleGlobalOptions($).reduce((w,R)=>{return Math.max(w,this.displayWidth(q.styleOptionTerm(q.optionTerm(R))))},0)}longestArgumentTermLength($,q){return q.visibleArguments($).reduce((w,R)=>{return Math.max(w,this.displayWidth(q.styleArgumentTerm(q.argumentTerm(R))))},0)}commandUsage($){let q=$._name;if($._aliases[0])q=q+"|"+$._aliases[0];let w="";for(let R=$.parent;R;R=R.parent)w=R.name()+" "+w;return w+q+" "+$.usage()}commandDescription($){return $.description()}subcommandDescription($){return $.summary()||$.description()}optionDescription($){let q=[];if($.argChoices)q.push(`choices: ${$.argChoices.map((w)=>JSON.stringify(w)).join(", ")}`);if($.defaultValue!==void 0){if($.required||$.optional||$.isBoolean()&&typeof $.defaultValue==="boolean")q.push(`default: ${$.defaultValueDescription||JSON.stringify($.defaultValue)}`)}if($.presetArg!==void 0&&$.optional)q.push(`preset: ${JSON.stringify($.presetArg)}`);if($.envVar!==void 0)q.push(`env: ${$.envVar}`);if(q.length>0)return`${$.description} (${q.join(", ")})`;return $.description}argumentDescription($){let q=[];if($.argChoices)q.push(`choices: ${$.argChoices.map((w)=>JSON.stringify(w)).join(", ")}`);if($.defaultValue!==void 0)q.push(`default: ${$.defaultValueDescription||JSON.stringify($.defaultValue)}`);if(q.length>0){let w=`(${q.join(", ")})`;if($.description)return`${$.description} ${w}`;return w}return $.description}formatHelp($,q){let w=q.padWidth($,q),R=q.helpWidth??80;function T(A,j){return q.formatItem(A,w,j,q)}let M=[`${q.styleTitle("Usage:")} ${q.styleUsage(q.commandUsage($))}`,""],G=q.commandDescription($);if(G.length>0)M=M.concat([q.boxWrap(q.styleCommandDescription(G),R),""]);let Q=q.visibleArguments($).map((A)=>{return T(q.styleArgumentTerm(q.argumentTerm(A)),q.styleArgumentDescription(q.argumentDescription(A)))});if(Q.length>0)M=M.concat([q.styleTitle("Arguments:"),...Q,""]);let Y=q.visibleOptions($).map((A)=>{return T(q.styleOptionTerm(q.optionTerm(A)),q.styleOptionDescription(q.optionDescription(A)))});if(Y.length>0)M=M.concat([q.styleTitle("Options:"),...Y,""]);if(q.showGlobalOptions){let A=q.visibleGlobalOptions($).map((j)=>{return T(q.styleOptionTerm(q.optionTerm(j)),q.styleOptionDescription(q.optionDescription(j)))});if(A.length>0)M=M.concat([q.styleTitle("Global Options:"),...A,""])}let X=q.visibleCommands($).map((A)=>{return T(q.styleSubcommandTerm(q.subcommandTerm(A)),q.styleSubcommandDescription(q.subcommandDescription(A)))});if(X.length>0)M=M.concat([q.styleTitle("Commands:"),...X,""]);return M.join(`
`)}displayWidth($){return E$($).length}styleTitle($){return $}styleUsage($){return $.split(" ").map((q)=>{if(q==="[options]")return this.styleOptionText(q);if(q==="[command]")return this.styleSubcommandText(q);if(q[0]==="["||q[0]==="<")return this.styleArgumentText(q);return this.styleCommandText(q)}).join(" ")}styleCommandDescription($){return this.styleDescriptionText($)}styleOptionDescription($){return this.styleDescriptionText($)}styleSubcommandDescription($){return this.styleDescriptionText($)}styleArgumentDescription($){return this.styleDescriptionText($)}styleDescriptionText($){return $}styleOptionTerm($){return this.styleOptionText($)}styleSubcommandTerm($){return $.split(" ").map((q)=>{if(q==="[options]")return this.styleOptionText(q);if(q[0]==="["||q[0]==="<")return this.styleArgumentText(q);return this.styleSubcommandText(q)}).join(" ")}styleArgumentTerm($){return this.styleArgumentText($)}styleOptionText($){return $}styleArgumentText($){return $}styleSubcommandText($){return $}styleCommandText($){return $}padWidth($,q){return Math.max(q.longestOptionTermLength($,q),q.longestGlobalOptionTermLength($,q),q.longestSubcommandTermLength($,q),q.longestArgumentTermLength($,q))}preformatted($){return/\n[^\S\r\n]/.test($)}formatItem($,q,w,R){let M=" ".repeat(2);if(!w)return M+$;let G=$.padEnd(q+$.length-R.displayWidth($)),Q=2,X=(this.helpWidth??80)-q-Q-2,A;if(X<this.minWidthToWrap||R.preformatted(w))A=w;else A=R.boxWrap(w,X).replace(/\n/g,`
`+" ".repeat(q+Q));return M+G+" ".repeat(Q)+A.replace(/\n/g,`
${M}`)}boxWrap($,q){if(q<this.minWidthToWrap)return $;let w=$.split(/\r\n|\n/),R=/[\s]*[^\s]+/g,T=[];return w.forEach((M)=>{let G=M.match(R);if(G===null){T.push("");return}let Q=[G.shift()],Y=this.displayWidth(Q[0]);G.forEach((X)=>{let A=this.displayWidth(X);if(Y+A<=q){Q.push(X),Y+=A;return}T.push(Q.join(""));let j=X.trimStart();Q=[j],Y=this.displayWidth(j)}),T.push(Q.join(""))}),T.join(`
`)}}function E$($){let q=/\x1b\[\d*(;\d*)*m/g;return $.replace(q,"")}rw.Help=H$;rw.stripColor=E$});var k0=N((nw)=>{var{InvalidArgumentError:cw}=V0();class h${constructor($,q){this.flags=$,this.description=q||"",this.required=$.includes("<"),this.optional=$.includes("["),this.variadic=/\w\.\.\.[>\]]$/.test($),this.mandatory=!1;let w=tw($);if(this.short=w.shortFlag,this.long=w.longFlag,this.negate=!1,this.long)this.negate=this.long.startsWith("--no-");this.defaultValue=void 0,this.defaultValueDescription=void 0,this.presetArg=void 0,this.envVar=void 0,this.parseArg=void 0,this.hidden=!1,this.argChoices=void 0,this.conflictsWith=[],this.implied=void 0}default($,q){return this.defaultValue=$,this.defaultValueDescription=q,this}preset($){return this.presetArg=$,this}conflicts($){return this.conflictsWith=this.conflictsWith.concat($),this}implies($){let q=$;if(typeof $==="string")q={[$]:!0};return this.implied=Object.assign(this.implied||{},q),this}env($){return this.envVar=$,this}argParser($){return this.parseArg=$,this}makeOptionMandatory($=!0){return this.mandatory=!!$,this}hideHelp($=!0){return this.hidden=!!$,this}_concatValue($,q){if(q===this.defaultValue||!Array.isArray(q))return[$];return q.concat($)}choices($){return this.argChoices=$.slice(),this.parseArg=(q,w)=>{if(!this.argChoices.includes(q))throw new cw(`Allowed choices are ${this.argChoices.join(", ")}.`);if(this.variadic)return this._concatValue(q,w);return q},this}name(){if(this.long)return this.long.replace(/^--/,"");return this.short.replace(/^-/,"")}attributeName(){if(this.negate)return P$(this.name().replace(/^no-/,""));return P$(this.name())}is($){return this.short===$||this.long===$}isBoolean(){return!this.required&&!this.optional&&!this.negate}}class O${constructor($){this.positiveOptions=new Map,this.negativeOptions=new Map,this.dualOptions=new Set,$.forEach((q)=>{if(q.negate)this.negativeOptions.set(q.attributeName(),q);else this.positiveOptions.set(q.attributeName(),q)}),this.negativeOptions.forEach((q,w)=>{if(this.positiveOptions.has(w))this.dualOptions.add(w)})}valueFromOption($,q){let w=q.attributeName();if(!this.dualOptions.has(w))return!0;let R=this.negativeOptions.get(w).presetArg,T=R!==void 0?R:!1;return q.negate===(T===$)}}function P$($){return $.split("-").reduce((q,w)=>{return q+w[0].toUpperCase()+w.slice(1)})}function tw($){let q,w,R=/^-[^-]$/,T=/^--[^-]/,M=$.split(/[ |,]+/).concat("guard");if(R.test(M[0]))q=M.shift();if(T.test(M[0]))w=M.shift();if(!q&&R.test(M[0]))q=M.shift();if(!q&&T.test(M[0]))q=w,w=M.shift();if(M[0].startsWith("-")){let G=M[0],Q=`option creation failed due to '${G}' in option flags '${$}'`;if(/^-[^-][^-]/.test(G))throw new Error(`${Q}
- a short flag is a single dash and a single character
  - either use a single dash and a single character (for a short flag)
  - or use a double dash for a long option (and can have two, like '--ws, --workspace')`);if(R.test(G))throw new Error(`${Q}
- too many short flags`);if(T.test(G))throw new Error(`${Q}
- too many long flags`);throw new Error(`${Q}
- unrecognised flag format`)}if(q===void 0&&w===void 0)throw new Error(`option creation failed due to no flags found in '${$}'.`);return{shortFlag:q,longFlag:w}}nw.Option=h$;nw.DualOptions=O$});var C$=N((qR)=>{function ew($,q){if(Math.abs($.length-q.length)>3)return Math.max($.length,q.length);let w=[];for(let R=0;R<=$.length;R++)w[R]=[R];for(let R=0;R<=q.length;R++)w[0][R]=R;for(let R=1;R<=q.length;R++)for(let T=1;T<=$.length;T++){let M=1;if($[T-1]===q[R-1])M=0;else M=1;if(w[T][R]=Math.min(w[T-1][R]+1,w[T][R-1]+1,w[T-1][R-1]+M),T>1&&R>1&&$[T-1]===q[R-2]&&$[T-2]===q[R-1])w[T][R]=Math.min(w[T][R],w[T-2][R-2]+1)}return w[$.length][q.length]}function $R($,q){if(!q||q.length===0)return"";q=Array.from(new Set(q));let w=$.startsWith("--");if(w)$=$.slice(2),q=q.map((G)=>G.slice(2));let R=[],T=3,M=0.4;if(q.forEach((G)=>{if(G.length<=1)return;let Q=ew($,G),Y=Math.max($.length,G.length);if((Y-Q)/Y>M){if(Q<T)T=Q,R=[G];else if(Q===T)R.push(G)}}),R.sort((G,Q)=>G.localeCompare(Q)),w)R=R.map((G)=>`--${G}`);if(R.length>1)return`
(Did you mean one of ${R.join(", ")}?)`;if(R.length===1)return`
(Did you mean ${R[0]}?)`;return""}qR.suggestSimilar=$R});var b$=N((YR)=>{var RR=s("node:events").EventEmitter,s0=s("node:child_process"),n=s("node:path"),D0=s("node:fs"),P=s("node:process"),{Argument:TR,humanReadableArgName:MR}=j0(),{CommanderError:m0}=V0(),{Help:GR,stripColor:JR}=v0(),{Option:x$,DualOptions:QR}=k0(),{suggestSimilar:_$}=C$();class d0 extends RR{constructor($){super();this.commands=[],this.options=[],this.parent=null,this._allowUnknownOption=!1,this._allowExcessArguments=!1,this.registeredArguments=[],this._args=this.registeredArguments,this.args=[],this.rawArgs=[],this.processedArgs=[],this._scriptPath=null,this._name=$||"",this._optionValues={},this._optionValueSources={},this._storeOptionsAsProperties=!1,this._actionHandler=null,this._executableHandler=!1,this._executableFile=null,this._executableDir=null,this._defaultCommandName=null,this._exitCallback=null,this._aliases=[],this._combineFlagAndOptionalValue=!0,this._description="",this._summary="",this._argsDescription=void 0,this._enablePositionalOptions=!1,this._passThroughOptions=!1,this._lifeCycleHooks={},this._showHelpAfterError=!1,this._showSuggestionAfterError=!0,this._savedState=null,this._outputConfiguration={writeOut:(q)=>P.stdout.write(q),writeErr:(q)=>P.stderr.write(q),outputError:(q,w)=>w(q),getOutHelpWidth:()=>P.stdout.isTTY?P.stdout.columns:void 0,getErrHelpWidth:()=>P.stderr.isTTY?P.stderr.columns:void 0,getOutHasColors:()=>i0()??(P.stdout.isTTY&&P.stdout.hasColors?.()),getErrHasColors:()=>i0()??(P.stderr.isTTY&&P.stderr.hasColors?.()),stripColor:(q)=>JR(q)},this._hidden=!1,this._helpOption=void 0,this._addImplicitHelpCommand=void 0,this._helpCommand=void 0,this._helpConfiguration={}}copyInheritedSettings($){return this._outputConfiguration=$._outputConfiguration,this._helpOption=$._helpOption,this._helpCommand=$._helpCommand,this._helpConfiguration=$._helpConfiguration,this._exitCallback=$._exitCallback,this._storeOptionsAsProperties=$._storeOptionsAsProperties,this._combineFlagAndOptionalValue=$._combineFlagAndOptionalValue,this._allowExcessArguments=$._allowExcessArguments,this._enablePositionalOptions=$._enablePositionalOptions,this._showHelpAfterError=$._showHelpAfterError,this._showSuggestionAfterError=$._showSuggestionAfterError,this}_getCommandAndAncestors(){let $=[];for(let q=this;q;q=q.parent)$.push(q);return $}command($,q,w){let R=q,T=w;if(typeof R==="object"&&R!==null)T=R,R=null;T=T||{};let[,M,G]=$.match(/([^ ]+) *(.*)/),Q=this.createCommand(M);if(R)Q.description(R),Q._executableHandler=!0;if(T.isDefault)this._defaultCommandName=Q._name;if(Q._hidden=!!(T.noHelp||T.hidden),Q._executableFile=T.executableFile||null,G)Q.arguments(G);if(this._registerCommand(Q),Q.parent=this,Q.copyInheritedSettings(this),R)return this;return Q}createCommand($){return new d0($)}createHelp(){return Object.assign(new GR,this.configureHelp())}configureHelp($){if($===void 0)return this._helpConfiguration;return this._helpConfiguration=$,this}configureOutput($){if($===void 0)return this._outputConfiguration;return Object.assign(this._outputConfiguration,$),this}showHelpAfterError($=!0){if(typeof $!=="string")$=!!$;return this._showHelpAfterError=$,this}showSuggestionAfterError($=!0){return this._showSuggestionAfterError=!!$,this}addCommand($,q){if(!$._name)throw new Error(`Command passed to .addCommand() must have a name
- specify the name in Command constructor or using .name()`);if(q=q||{},q.isDefault)this._defaultCommandName=$._name;if(q.noHelp||q.hidden)$._hidden=!0;return this._registerCommand($),$.parent=this,$._checkForBrokenPassThrough(),this}createArgument($,q){return new TR($,q)}argument($,q,w,R){let T=this.createArgument($,q);if(typeof w==="function")T.default(R).argParser(w);else T.default(w);return this.addArgument(T),this}arguments($){return $.trim().split(/ +/).forEach((q)=>{this.argument(q)}),this}addArgument($){let q=this.registeredArguments.slice(-1)[0];if(q&&q.variadic)throw new Error(`only the last argument can be variadic '${q.name()}'`);if($.required&&$.defaultValue!==void 0&&$.parseArg===void 0)throw new Error(`a default value for a required argument is never used: '${$.name()}'`);return this.registeredArguments.push($),this}helpCommand($,q){if(typeof $==="boolean")return this._addImplicitHelpCommand=$,this;$=$??"help [command]";let[,w,R]=$.match(/([^ ]+) *(.*)/),T=q??"display help for command",M=this.createCommand(w);if(M.helpOption(!1),R)M.arguments(R);if(T)M.description(T);return this._addImplicitHelpCommand=!0,this._helpCommand=M,this}addHelpCommand($,q){if(typeof $!=="object")return this.helpCommand($,q),this;return this._addImplicitHelpCommand=!0,this._helpCommand=$,this}_getHelpCommand(){if(this._addImplicitHelpCommand??(this.commands.length&&!this._actionHandler&&!this._findCommand("help"))){if(this._helpCommand===void 0)this.helpCommand(void 0,void 0);return this._helpCommand}return null}hook($,q){let w=["preSubcommand","preAction","postAction"];if(!w.includes($))throw new Error(`Unexpected value for event passed to hook : '${$}'.
Expecting one of '${w.join("', '")}'`);if(this._lifeCycleHooks[$])this._lifeCycleHooks[$].push(q);else this._lifeCycleHooks[$]=[q];return this}exitOverride($){if($)this._exitCallback=$;else this._exitCallback=(q)=>{if(q.code!=="commander.executeSubCommandAsync")throw q};return this}_exit($,q,w){if(this._exitCallback)this._exitCallback(new m0($,q,w));P.exit($)}action($){let q=(w)=>{let R=this.registeredArguments.length,T=w.slice(0,R);if(this._storeOptionsAsProperties)T[R]=this;else T[R]=this.opts();return T.push(this),$.apply(this,T)};return this._actionHandler=q,this}createOption($,q){return new x$($,q)}_callParseArg($,q,w,R){try{return $.parseArg(q,w)}catch(T){if(T.code==="commander.invalidArgument"){let M=`${R} ${T.message}`;this.error(M,{exitCode:T.exitCode,code:T.code})}throw T}}_registerOption($){let q=$.short&&this._findOption($.short)||$.long&&this._findOption($.long);if(q){let w=$.long&&this._findOption($.long)?$.long:$.short;throw new Error(`Cannot add option '${$.flags}'${this._name&&` to command '${this._name}'`} due to conflicting flag '${w}'
-  already used by option '${q.flags}'`)}this.options.push($)}_registerCommand($){let q=(R)=>{return[R.name()].concat(R.aliases())},w=q($).find((R)=>this._findCommand(R));if(w){let R=q(this._findCommand(w)).join("|"),T=q($).join("|");throw new Error(`cannot add command '${T}' as already have command '${R}'`)}this.commands.push($)}addOption($){this._registerOption($);let q=$.name(),w=$.attributeName();if($.negate){let T=$.long.replace(/^--no-/,"--");if(!this._findOption(T))this.setOptionValueWithSource(w,$.defaultValue===void 0?!0:$.defaultValue,"default")}else if($.defaultValue!==void 0)this.setOptionValueWithSource(w,$.defaultValue,"default");let R=(T,M,G)=>{if(T==null&&$.presetArg!==void 0)T=$.presetArg;let Q=this.getOptionValue(w);if(T!==null&&$.parseArg)T=this._callParseArg($,T,Q,M);else if(T!==null&&$.variadic)T=$._concatValue(T,Q);if(T==null)if($.negate)T=!1;else if($.isBoolean()||$.optional)T=!0;else T="";this.setOptionValueWithSource(w,T,G)};if(this.on("option:"+q,(T)=>{let M=`error: option '${$.flags}' argument '${T}' is invalid.`;R(T,M,"cli")}),$.envVar)this.on("optionEnv:"+q,(T)=>{let M=`error: option '${$.flags}' value '${T}' from env '${$.envVar}' is invalid.`;R(T,M,"env")});return this}_optionEx($,q,w,R,T){if(typeof q==="object"&&q instanceof x$)throw new Error("To add an Option object use addOption() instead of option() or requiredOption()");let M=this.createOption(q,w);if(M.makeOptionMandatory(!!$.mandatory),typeof R==="function")M.default(T).argParser(R);else if(R instanceof RegExp){let G=R;R=(Q,Y)=>{let X=G.exec(Q);return X?X[0]:Y},M.default(T).argParser(R)}else M.default(R);return this.addOption(M)}option($,q,w,R){return this._optionEx({},$,q,w,R)}requiredOption($,q,w,R){return this._optionEx({mandatory:!0},$,q,w,R)}combineFlagAndOptionalValue($=!0){return this._combineFlagAndOptionalValue=!!$,this}allowUnknownOption($=!0){return this._allowUnknownOption=!!$,this}allowExcessArguments($=!0){return this._allowExcessArguments=!!$,this}enablePositionalOptions($=!0){return this._enablePositionalOptions=!!$,this}passThroughOptions($=!0){return this._passThroughOptions=!!$,this._checkForBrokenPassThrough(),this}_checkForBrokenPassThrough(){if(this.parent&&this._passThroughOptions&&!this.parent._enablePositionalOptions)throw new Error(`passThroughOptions cannot be used for '${this._name}' without turning on enablePositionalOptions for parent command(s)`)}storeOptionsAsProperties($=!0){if(this.options.length)throw new Error("call .storeOptionsAsProperties() before adding options");if(Object.keys(this._optionValues).length)throw new Error("call .storeOptionsAsProperties() before setting option values");return this._storeOptionsAsProperties=!!$,this}getOptionValue($){if(this._storeOptionsAsProperties)return this[$];return this._optionValues[$]}setOptionValue($,q){return this.setOptionValueWithSource($,q,void 0)}setOptionValueWithSource($,q,w){if(this._storeOptionsAsProperties)this[$]=q;else this._optionValues[$]=q;return this._optionValueSources[$]=w,this}getOptionValueSource($){return this._optionValueSources[$]}getOptionValueSourceWithGlobals($){let q;return this._getCommandAndAncestors().forEach((w)=>{if(w.getOptionValueSource($)!==void 0)q=w.getOptionValueSource($)}),q}_prepareUserArgs($,q){if($!==void 0&&!Array.isArray($))throw new Error("first parameter to parse must be array or undefined");if(q=q||{},$===void 0&&q.from===void 0){if(P.versions?.electron)q.from="electron";let R=P.execArgv??[];if(R.includes("-e")||R.includes("--eval")||R.includes("-p")||R.includes("--print"))q.from="eval"}if($===void 0)$=P.argv;this.rawArgs=$.slice();let w;switch(q.from){case void 0:case"node":this._scriptPath=$[1],w=$.slice(2);break;case"electron":if(P.defaultApp)this._scriptPath=$[1],w=$.slice(2);else w=$.slice(1);break;case"user":w=$.slice(0);break;case"eval":w=$.slice(1);break;default:throw new Error(`unexpected parse option { from: '${q.from}' }`)}if(!this._name&&this._scriptPath)this.nameFromFilename(this._scriptPath);return this._name=this._name||"program",w}parse($,q){this._prepareForParse();let w=this._prepareUserArgs($,q);return this._parseCommand([],w),this}async parseAsync($,q){this._prepareForParse();let w=this._prepareUserArgs($,q);return await this._parseCommand([],w),this}_prepareForParse(){if(this._savedState===null)this.saveStateBeforeParse();else this.restoreStateBeforeParse()}saveStateBeforeParse(){this._savedState={_name:this._name,_optionValues:{...this._optionValues},_optionValueSources:{...this._optionValueSources}}}restoreStateBeforeParse(){if(this._storeOptionsAsProperties)throw new Error(`Can not call parse again when storeOptionsAsProperties is true.
- either make a new Command for each call to parse, or stop storing options as properties`);this._name=this._savedState._name,this._scriptPath=null,this.rawArgs=[],this._optionValues={...this._savedState._optionValues},this._optionValueSources={...this._savedState._optionValueSources},this.args=[],this.processedArgs=[]}_checkForMissingExecutable($,q,w){if(D0.existsSync($))return;let R=q?`searched for local subcommand relative to directory '${q}'`:"no directory for search for local subcommand, use .executableDir() to supply a custom directory",T=`'${$}' does not exist
 - if '${w}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead
 - if the default executable name is not suitable, use the executableFile option to supply a custom name or path
 - ${R}`;throw new Error(T)}_executeSubCommand($,q){q=q.slice();let w=!1,R=[".js",".ts",".tsx",".mjs",".cjs"];function T(X,A){let j=n.resolve(X,A);if(D0.existsSync(j))return j;if(R.includes(n.extname(A)))return;let z=R.find((Z)=>D0.existsSync(`${j}${Z}`));if(z)return`${j}${z}`;return}this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let M=$._executableFile||`${this._name}-${$._name}`,G=this._executableDir||"";if(this._scriptPath){let X;try{X=D0.realpathSync(this._scriptPath)}catch{X=this._scriptPath}G=n.resolve(n.dirname(X),G)}if(G){let X=T(G,M);if(!X&&!$._executableFile&&this._scriptPath){let A=n.basename(this._scriptPath,n.extname(this._scriptPath));if(A!==this._name)X=T(G,`${A}-${$._name}`)}M=X||M}w=R.includes(n.extname(M));let Q;if(P.platform!=="win32")if(w)q.unshift(M),q=u$(P.execArgv).concat(q),Q=s0.spawn(P.argv[0],q,{stdio:"inherit"});else Q=s0.spawn(M,q,{stdio:"inherit"});else this._checkForMissingExecutable(M,G,$._name),q.unshift(M),q=u$(P.execArgv).concat(q),Q=s0.spawn(P.execPath,q,{stdio:"inherit"});if(!Q.killed)["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"].forEach((A)=>{P.on(A,()=>{if(Q.killed===!1&&Q.exitCode===null)Q.kill(A)})});let Y=this._exitCallback;Q.on("close",(X)=>{if(X=X??1,!Y)P.exit(X);else Y(new m0(X,"commander.executeSubCommandAsync","(close)"))}),Q.on("error",(X)=>{if(X.code==="ENOENT")this._checkForMissingExecutable(M,G,$._name);else if(X.code==="EACCES")throw new Error(`'${M}' not executable`);if(!Y)P.exit(1);else{let A=new m0(1,"commander.executeSubCommandAsync","(error)");A.nestedError=X,Y(A)}}),this.runningCommand=Q}_dispatchSubcommand($,q,w){let R=this._findCommand($);if(!R)this.help({error:!0});R._prepareForParse();let T;return T=this._chainOrCallSubCommandHook(T,R,"preSubcommand"),T=this._chainOrCall(T,()=>{if(R._executableHandler)this._executeSubCommand(R,q.concat(w));else return R._parseCommand(q,w)}),T}_dispatchHelpCommand($){if(!$)this.help();let q=this._findCommand($);if(q&&!q._executableHandler)q.help();return this._dispatchSubcommand($,[],[this._getHelpOption()?.long??this._getHelpOption()?.short??"--help"])}_checkNumberOfArguments(){if(this.registeredArguments.forEach(($,q)=>{if($.required&&this.args[q]==null)this.missingArgument($.name())}),this.registeredArguments.length>0&&this.registeredArguments[this.registeredArguments.length-1].variadic)return;if(this.args.length>this.registeredArguments.length)this._excessArguments(this.args)}_processArguments(){let $=(w,R,T)=>{let M=R;if(R!==null&&w.parseArg){let G=`error: command-argument value '${R}' is invalid for argument '${w.name()}'.`;M=this._callParseArg(w,R,T,G)}return M};this._checkNumberOfArguments();let q=[];this.registeredArguments.forEach((w,R)=>{let T=w.defaultValue;if(w.variadic){if(R<this.args.length){if(T=this.args.slice(R),w.parseArg)T=T.reduce((M,G)=>{return $(w,G,M)},w.defaultValue)}else if(T===void 0)T=[]}else if(R<this.args.length){if(T=this.args[R],w.parseArg)T=$(w,T,w.defaultValue)}q[R]=T}),this.processedArgs=q}_chainOrCall($,q){if($&&$.then&&typeof $.then==="function")return $.then(()=>q());return q()}_chainOrCallHooks($,q){let w=$,R=[];if(this._getCommandAndAncestors().reverse().filter((T)=>T._lifeCycleHooks[q]!==void 0).forEach((T)=>{T._lifeCycleHooks[q].forEach((M)=>{R.push({hookedCommand:T,callback:M})})}),q==="postAction")R.reverse();return R.forEach((T)=>{w=this._chainOrCall(w,()=>{return T.callback(T.hookedCommand,this)})}),w}_chainOrCallSubCommandHook($,q,w){let R=$;if(this._lifeCycleHooks[w]!==void 0)this._lifeCycleHooks[w].forEach((T)=>{R=this._chainOrCall(R,()=>{return T(this,q)})});return R}_parseCommand($,q){let w=this.parseOptions(q);if(this._parseOptionsEnv(),this._parseOptionsImplied(),$=$.concat(w.operands),q=w.unknown,this.args=$.concat(q),$&&this._findCommand($[0]))return this._dispatchSubcommand($[0],$.slice(1),q);if(this._getHelpCommand()&&$[0]===this._getHelpCommand().name())return this._dispatchHelpCommand($[1]);if(this._defaultCommandName)return this._outputHelpIfRequested(q),this._dispatchSubcommand(this._defaultCommandName,$,q);if(this.commands.length&&this.args.length===0&&!this._actionHandler&&!this._defaultCommandName)this.help({error:!0});this._outputHelpIfRequested(w.unknown),this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let R=()=>{if(w.unknown.length>0)this.unknownOption(w.unknown[0])},T=`command:${this.name()}`;if(this._actionHandler){R(),this._processArguments();let M;if(M=this._chainOrCallHooks(M,"preAction"),M=this._chainOrCall(M,()=>this._actionHandler(this.processedArgs)),this.parent)M=this._chainOrCall(M,()=>{this.parent.emit(T,$,q)});return M=this._chainOrCallHooks(M,"postAction"),M}if(this.parent&&this.parent.listenerCount(T))R(),this._processArguments(),this.parent.emit(T,$,q);else if($.length){if(this._findCommand("*"))return this._dispatchSubcommand("*",$,q);if(this.listenerCount("command:*"))this.emit("command:*",$,q);else if(this.commands.length)this.unknownCommand();else R(),this._processArguments()}else if(this.commands.length)R(),this.help({error:!0});else R(),this._processArguments()}_findCommand($){if(!$)return;return this.commands.find((q)=>q._name===$||q._aliases.includes($))}_findOption($){return this.options.find((q)=>q.is($))}_checkForMissingMandatoryOptions(){this._getCommandAndAncestors().forEach(($)=>{$.options.forEach((q)=>{if(q.mandatory&&$.getOptionValue(q.attributeName())===void 0)$.missingMandatoryOptionValue(q)})})}_checkForConflictingLocalOptions(){let $=this.options.filter((w)=>{let R=w.attributeName();if(this.getOptionValue(R)===void 0)return!1;return this.getOptionValueSource(R)!=="default"});$.filter((w)=>w.conflictsWith.length>0).forEach((w)=>{let R=$.find((T)=>w.conflictsWith.includes(T.attributeName()));if(R)this._conflictingOption(w,R)})}_checkForConflictingOptions(){this._getCommandAndAncestors().forEach(($)=>{$._checkForConflictingLocalOptions()})}parseOptions($){let q=[],w=[],R=q,T=$.slice();function M(Q){return Q.length>1&&Q[0]==="-"}let G=null;while(T.length){let Q=T.shift();if(Q==="--"){if(R===w)R.push(Q);R.push(...T);break}if(G&&!M(Q)){this.emit(`option:${G.name()}`,Q);continue}if(G=null,M(Q)){let Y=this._findOption(Q);if(Y){if(Y.required){let X=T.shift();if(X===void 0)this.optionMissingArgument(Y);this.emit(`option:${Y.name()}`,X)}else if(Y.optional){let X=null;if(T.length>0&&!M(T[0]))X=T.shift();this.emit(`option:${Y.name()}`,X)}else this.emit(`option:${Y.name()}`);G=Y.variadic?Y:null;continue}}if(Q.length>2&&Q[0]==="-"&&Q[1]!=="-"){let Y=this._findOption(`-${Q[1]}`);if(Y){if(Y.required||Y.optional&&this._combineFlagAndOptionalValue)this.emit(`option:${Y.name()}`,Q.slice(2));else this.emit(`option:${Y.name()}`),T.unshift(`-${Q.slice(2)}`);continue}}if(/^--[^=]+=/.test(Q)){let Y=Q.indexOf("="),X=this._findOption(Q.slice(0,Y));if(X&&(X.required||X.optional)){this.emit(`option:${X.name()}`,Q.slice(Y+1));continue}}if(M(Q))R=w;if((this._enablePositionalOptions||this._passThroughOptions)&&q.length===0&&w.length===0){if(this._findCommand(Q)){if(q.push(Q),T.length>0)w.push(...T);break}else if(this._getHelpCommand()&&Q===this._getHelpCommand().name()){if(q.push(Q),T.length>0)q.push(...T);break}else if(this._defaultCommandName){if(w.push(Q),T.length>0)w.push(...T);break}}if(this._passThroughOptions){if(R.push(Q),T.length>0)R.push(...T);break}R.push(Q)}return{operands:q,unknown:w}}opts(){if(this._storeOptionsAsProperties){let $={},q=this.options.length;for(let w=0;w<q;w++){let R=this.options[w].attributeName();$[R]=R===this._versionOptionName?this._version:this[R]}return $}return this._optionValues}optsWithGlobals(){return this._getCommandAndAncestors().reduce(($,q)=>Object.assign($,q.opts()),{})}error($,q){if(this._outputConfiguration.outputError(`${$}
`,this._outputConfiguration.writeErr),typeof this._showHelpAfterError==="string")this._outputConfiguration.writeErr(`${this._showHelpAfterError}
`);else if(this._showHelpAfterError)this._outputConfiguration.writeErr(`
`),this.outputHelp({error:!0});let w=q||{},R=w.exitCode||1,T=w.code||"commander.error";this._exit(R,T,$)}_parseOptionsEnv(){this.options.forEach(($)=>{if($.envVar&&$.envVar in P.env){let q=$.attributeName();if(this.getOptionValue(q)===void 0||["default","config","env"].includes(this.getOptionValueSource(q)))if($.required||$.optional)this.emit(`optionEnv:${$.name()}`,P.env[$.envVar]);else this.emit(`optionEnv:${$.name()}`)}})}_parseOptionsImplied(){let $=new QR(this.options),q=(w)=>{return this.getOptionValue(w)!==void 0&&!["default","implied"].includes(this.getOptionValueSource(w))};this.options.filter((w)=>w.implied!==void 0&&q(w.attributeName())&&$.valueFromOption(this.getOptionValue(w.attributeName()),w)).forEach((w)=>{Object.keys(w.implied).filter((R)=>!q(R)).forEach((R)=>{this.setOptionValueWithSource(R,w.implied[R],"implied")})})}missingArgument($){let q=`error: missing required argument '${$}'`;this.error(q,{code:"commander.missingArgument"})}optionMissingArgument($){let q=`error: option '${$.flags}' argument missing`;this.error(q,{code:"commander.optionMissingArgument"})}missingMandatoryOptionValue($){let q=`error: required option '${$.flags}' not specified`;this.error(q,{code:"commander.missingMandatoryOptionValue"})}_conflictingOption($,q){let w=(M)=>{let G=M.attributeName(),Q=this.getOptionValue(G),Y=this.options.find((A)=>A.negate&&G===A.attributeName()),X=this.options.find((A)=>!A.negate&&G===A.attributeName());if(Y&&(Y.presetArg===void 0&&Q===!1||Y.presetArg!==void 0&&Q===Y.presetArg))return Y;return X||M},R=(M)=>{let G=w(M),Q=G.attributeName();if(this.getOptionValueSource(Q)==="env")return`environment variable '${G.envVar}'`;return`option '${G.flags}'`},T=`error: ${R($)} cannot be used with ${R(q)}`;this.error(T,{code:"commander.conflictingOption"})}unknownOption($){if(this._allowUnknownOption)return;let q="";if($.startsWith("--")&&this._showSuggestionAfterError){let R=[],T=this;do{let M=T.createHelp().visibleOptions(T).filter((G)=>G.long).map((G)=>G.long);R=R.concat(M),T=T.parent}while(T&&!T._enablePositionalOptions);q=_$($,R)}let w=`error: unknown option '${$}'${q}`;this.error(w,{code:"commander.unknownOption"})}_excessArguments($){if(this._allowExcessArguments)return;let q=this.registeredArguments.length,w=q===1?"":"s",T=`error: too many arguments${this.parent?` for '${this.name()}'`:""}. Expected ${q} argument${w} but got ${$.length}.`;this.error(T,{code:"commander.excessArguments"})}unknownCommand(){let $=this.args[0],q="";if(this._showSuggestionAfterError){let R=[];this.createHelp().visibleCommands(this).forEach((T)=>{if(R.push(T.name()),T.alias())R.push(T.alias())}),q=_$($,R)}let w=`error: unknown command '${$}'${q}`;this.error(w,{code:"commander.unknownCommand"})}version($,q,w){if($===void 0)return this._version;this._version=$,q=q||"-V, --version",w=w||"output the version number";let R=this.createOption(q,w);return this._versionOptionName=R.attributeName(),this._registerOption(R),this.on("option:"+R.name(),()=>{this._outputConfiguration.writeOut(`${$}
`),this._exit(0,"commander.version",$)}),this}description($,q){if($===void 0&&q===void 0)return this._description;if(this._description=$,q)this._argsDescription=q;return this}summary($){if($===void 0)return this._summary;return this._summary=$,this}alias($){if($===void 0)return this._aliases[0];let q=this;if(this.commands.length!==0&&this.commands[this.commands.length-1]._executableHandler)q=this.commands[this.commands.length-1];if($===q._name)throw new Error("Command alias can't be the same as its name");let w=this.parent?._findCommand($);if(w){let R=[w.name()].concat(w.aliases()).join("|");throw new Error(`cannot add alias '${$}' to command '${this.name()}' as already have command '${R}'`)}return q._aliases.push($),this}aliases($){if($===void 0)return this._aliases;return $.forEach((q)=>this.alias(q)),this}usage($){if($===void 0){if(this._usage)return this._usage;let q=this.registeredArguments.map((w)=>{return MR(w)});return[].concat(this.options.length||this._helpOption!==null?"[options]":[],this.commands.length?"[command]":[],this.registeredArguments.length?q:[]).join(" ")}return this._usage=$,this}name($){if($===void 0)return this._name;return this._name=$,this}nameFromFilename($){return this._name=n.basename($,n.extname($)),this}executableDir($){if($===void 0)return this._executableDir;return this._executableDir=$,this}helpInformation($){let q=this.createHelp(),w=this._getOutputContext($);q.prepareContext({error:w.error,helpWidth:w.helpWidth,outputHasColors:w.hasColors});let R=q.formatHelp(this,q);if(w.hasColors)return R;return this._outputConfiguration.stripColor(R)}_getOutputContext($){$=$||{};let q=!!$.error,w,R,T;if(q)w=(G)=>this._outputConfiguration.writeErr(G),R=this._outputConfiguration.getErrHasColors(),T=this._outputConfiguration.getErrHelpWidth();else w=(G)=>this._outputConfiguration.writeOut(G),R=this._outputConfiguration.getOutHasColors(),T=this._outputConfiguration.getOutHelpWidth();return{error:q,write:(G)=>{if(!R)G=this._outputConfiguration.stripColor(G);return w(G)},hasColors:R,helpWidth:T}}outputHelp($){let q;if(typeof $==="function")q=$,$=void 0;let w=this._getOutputContext($),R={error:w.error,write:w.write,command:this};this._getCommandAndAncestors().reverse().forEach((M)=>M.emit("beforeAllHelp",R)),this.emit("beforeHelp",R);let T=this.helpInformation({error:w.error});if(q){if(T=q(T),typeof T!=="string"&&!Buffer.isBuffer(T))throw new Error("outputHelp callback must return a string or a Buffer")}if(w.write(T),this._getHelpOption()?.long)this.emit(this._getHelpOption().long);this.emit("afterHelp",R),this._getCommandAndAncestors().forEach((M)=>M.emit("afterAllHelp",R))}helpOption($,q){if(typeof $==="boolean"){if($)this._helpOption=this._helpOption??void 0;else this._helpOption=null;return this}return $=$??"-h, --help",q=q??"display help for command",this._helpOption=this.createOption($,q),this}_getHelpOption(){if(this._helpOption===void 0)this.helpOption(void 0,void 0);return this._helpOption}addHelpOption($){return this._helpOption=$,this}help($){this.outputHelp($);let q=Number(P.exitCode??0);if(q===0&&$&&typeof $!=="function"&&$.error)q=1;this._exit(q,"commander.help","(outputHelp)")}addHelpText($,q){let w=["beforeAll","before","after","afterAll"];if(!w.includes($))throw new Error(`Unexpected value for position to addHelpText.
Expecting one of '${w.join("', '")}'`);let R=`${$}Help`;return this.on(R,(T)=>{let M;if(typeof q==="function")M=q({error:T.error,command:T.command});else M=q;if(M)T.write(`${M}
`)}),this}_outputHelpIfRequested($){let q=this._getHelpOption();if(q&&$.find((R)=>q.is(R)))this.outputHelp(),this._exit(0,"commander.helpDisplayed","(outputHelp)")}}function u$($){return $.map((q)=>{if(!q.startsWith("--inspect"))return q;let w,R="127.0.0.1",T="9229",M;if((M=q.match(/^(--inspect(-brk)?)$/))!==null)w=M[1];else if((M=q.match(/^(--inspect(-brk|-port)?)=([^:]+)$/))!==null)if(w=M[1],/^\d+$/.test(M[3]))T=M[3];else R=M[3];else if((M=q.match(/^(--inspect(-brk|-port)?)=([^:]+):(\d+)$/))!==null)w=M[1],R=M[3],T=M[4];if(w&&T!=="0")return`${w}=${R}:${parseInt(T)+1}`;return q})}function i0(){if(P.env.NO_COLOR||P.env.FORCE_COLOR==="0"||P.env.FORCE_COLOR==="false")return!1;if(P.env.FORCE_COLOR||P.env.CLICOLOR_FORCE!==void 0)return!0;return}YR.Command=d0;YR.useColor=i0});var v$=N((SR)=>{var{Argument:y$}=j0(),{Command:r0}=b$(),{CommanderError:IR,InvalidArgumentError:f$}=V0(),{Help:VR}=v0(),{Option:g$}=k0();SR.program=new r0;SR.createCommand=($)=>new r0($);SR.createOption=($,q)=>new g$($,q);SR.createArgument=($,q)=>new y$($,q);SR.Command=r0;SR.Option=g$;SR.Argument=y$;SR.Help=VR;SR.CommanderError=IR;SR.InvalidArgumentError=f$;SR.InvalidOptionArgumentError=f$});var p0=N((BG,m$)=>{m$.exports={LOCHDR:30,LOCSIG:67324752,LOCVER:4,LOCFLG:6,LOCHOW:8,LOCTIM:10,LOCCRC:14,LOCSIZ:18,LOCLEN:22,LOCNAM:26,LOCEXT:28,EXTSIG:134695760,EXTHDR:16,EXTCRC:4,EXTSIZ:8,EXTLEN:12,CENHDR:46,CENSIG:33639248,CENVEM:4,CENVER:6,CENFLG:8,CENHOW:10,CENTIM:12,CENCRC:16,CENSIZ:20,CENLEN:24,CENNAM:28,CENEXT:30,CENCOM:32,CENDSK:34,CENATT:36,CENATX:38,CENOFF:42,ENDHDR:22,ENDSIG:101010256,ENDSUB:8,ENDTOT:10,ENDSIZ:12,ENDOFF:16,ENDCOM:20,END64HDR:20,END64SIG:117853008,END64START:4,END64OFF:8,END64NUMDISKS:16,ZIP64SIG:101075792,ZIP64HDR:56,ZIP64LEAD:12,ZIP64SIZE:4,ZIP64VEM:12,ZIP64VER:14,ZIP64DSK:16,ZIP64DSKDIR:20,ZIP64SUB:24,ZIP64TOT:32,ZIP64SIZB:40,ZIP64OFF:48,ZIP64EXTRA:56,STORED:0,SHRUNK:1,REDUCED1:2,REDUCED2:3,REDUCED3:4,REDUCED4:5,IMPLODED:6,DEFLATED:8,ENHANCED_DEFLATED:9,PKWARE:10,BZIP2:12,LZMA:14,IBM_TERSE:18,IBM_LZ77:19,AES_ENCRYPT:99,FLG_ENC:1,FLG_COMP1:2,FLG_COMP2:4,FLG_DESC:8,FLG_ENH:16,FLG_PATCH:32,FLG_STR:64,FLG_EFS:2048,FLG_MSK:4096,FILE:2,BUFFER:1,NONE:0,EF_ID:0,EF_SIZE:2,ID_ZIP64:1,ID_AVINFO:7,ID_PFS:8,ID_OS2:9,ID_NTFS:10,ID_OPENVMS:12,ID_UNIX:13,ID_FORK:14,ID_PATCH:15,ID_X509_PKCS7:20,ID_X509_CERTID_F:21,ID_X509_CERTID_C:22,ID_STRONGENC:23,ID_RECORD_MGT:24,ID_X509_PKCS7_RL:25,ID_IBM1:101,ID_IBM2:102,ID_POSZIP:18064,EF_ZIP64_OR_32:4294967295,EF_ZIP64_OR_16:65535,EF_ZIP64_SUNCOMP:0,EF_ZIP64_SCOMP:8,EF_ZIP64_RHO:16,EF_ZIP64_DSN:24}});var F0=N((d$)=>{var i$={INVALID_LOC:"Invalid LOC header (bad signature)",INVALID_CEN:"Invalid CEN header (bad signature)",INVALID_END:"Invalid END header (bad signature)",DESCRIPTOR_NOT_EXIST:"No descriptor present",DESCRIPTOR_UNKNOWN:"Unknown descriptor format",DESCRIPTOR_FAULTY:"Descriptor data is malformed",NO_DATA:"Nothing to decompress",BAD_CRC:"CRC32 checksum failed {0}",FILE_IN_THE_WAY:"There is a file in the way: {0}",UNKNOWN_METHOD:"Invalid/unsupported compression method",AVAIL_DATA:"inflate::Available inflate data did not terminate",INVALID_DISTANCE:"inflate::Invalid literal/length or distance code in fixed or dynamic block",TO_MANY_CODES:"inflate::Dynamic block code description: too many length or distance codes",INVALID_REPEAT_LEN:"inflate::Dynamic block code description: repeat more than specified lengths",INVALID_REPEAT_FIRST:"inflate::Dynamic block code description: repeat lengths with no first length",INCOMPLETE_CODES:"inflate::Dynamic block code description: code lengths codes incomplete",INVALID_DYN_DISTANCE:"inflate::Dynamic block code description: invalid distance code lengths",INVALID_CODES_LEN:"inflate::Dynamic block code description: invalid literal/length code lengths",INVALID_STORE_BLOCK:"inflate::Stored block length did not match one's complement",INVALID_BLOCK_TYPE:"inflate::Invalid block type (type == 3)",CANT_EXTRACT_FILE:"Could not extract the file",CANT_OVERRIDE:"Target file already exists",DISK_ENTRY_TOO_LARGE:"Number of disk entries is too large",NO_ZIP:"No zip file was loaded",NO_ENTRY:"Entry doesn't exist",DIRECTORY_CONTENT_ERROR:"A directory cannot have content",FILE_NOT_FOUND:'File not found: "{0}"',NOT_IMPLEMENTED:"Not implemented",INVALID_FILENAME:"Invalid filename",INVALID_FORMAT:"Invalid or unsupported zip format. No END header found",INVALID_PASS_PARAM:"Incompatible password parameter",WRONG_PASSWORD:"Wrong Password",COMMENT_TOO_LONG:"Comment is too long",EXTRA_FIELD_PARSE_ERROR:"Extra field parsing error"};function HR($){return function(...q){if(q.length)$=$.replace(/\{(\d)\}/g,(w,R)=>q[R]||"");return new Error("ADM-ZIP: "+$)}}for(let $ of Object.keys(i$))d$[$]=HR(i$[$])});var t$=N((AG,c$)=>{var ER=s("fs"),f=s("path"),r$=p0(),PR=F0(),hR=typeof process==="object"&&process.platform==="win32",p$=($)=>typeof $==="object"&&$!==null,l$=new Uint32Array(256).map(($,q)=>{for(let w=0;w<8;w++)if((q&1)!==0)q=3988292384^q>>>1;else q>>>=1;return q>>>0});function u($){if(this.sep=f.sep,this.fs=ER,p$($)){if(p$($.fs)&&typeof $.fs.statSync==="function")this.fs=$.fs}}c$.exports=u;u.prototype.makeDir=function($){let q=this;function w(R){let T=R.split(q.sep)[0];R.split(q.sep).forEach(function(M){if(!M||M.substr(-1,1)===":")return;T+=q.sep+M;var G;try{G=q.fs.statSync(T)}catch(Q){q.fs.mkdirSync(T)}if(G&&G.isFile())throw PR.FILE_IN_THE_WAY(`"${T}"`)})}w($)};u.prototype.writeFileTo=function($,q,w,R){let T=this;if(T.fs.existsSync($)){if(!w)return!1;var M=T.fs.statSync($);if(M.isDirectory())return!1}var G=f.dirname($);if(!T.fs.existsSync(G))T.makeDir(G);var Q;try{Q=T.fs.openSync($,"w",438)}catch(Y){T.fs.chmodSync($,438),Q=T.fs.openSync($,"w",438)}if(Q)try{T.fs.writeSync(Q,q,0,q.length,0)}finally{T.fs.closeSync(Q)}return T.fs.chmodSync($,R||438),!0};u.prototype.writeFileToAsync=function($,q,w,R,T){if(typeof R==="function")T=R,R=void 0;let M=this;M.fs.exists($,function(G){if(G&&!w)return T(!1);M.fs.stat($,function(Q,Y){if(G&&Y.isDirectory())return T(!1);var X=f.dirname($);M.fs.exists(X,function(A){if(!A)M.makeDir(X);M.fs.open($,"w",438,function(j,z){if(j)M.fs.chmod($,438,function(){M.fs.open($,"w",438,function(Z,I){M.fs.write(I,q,0,q.length,0,function(){M.fs.close(I,function(){M.fs.chmod($,R||438,function(){T(!0)})})})})});else if(z)M.fs.write(z,q,0,q.length,0,function(){M.fs.close(z,function(){M.fs.chmod($,R||438,function(){T(!0)})})});else M.fs.chmod($,R||438,function(){T(!0)})})})})})};u.prototype.findFiles=function($){let q=this;function w(R,T,M){if(typeof T==="boolean")M=T,T=void 0;let G=[];return q.fs.readdirSync(R).forEach(function(Q){let Y=f.join(R,Q),X=q.fs.statSync(Y);if(!T||T.test(Y))G.push(f.normalize(Y)+(X.isDirectory()?q.sep:""));if(X.isDirectory()&&M)G=G.concat(w(Y,T,M))}),G}return w($,void 0,!0)};u.prototype.findFilesAsync=function($,q){let w=this,R=[];w.fs.readdir($,function(T,M){if(T)return q(T);let G=M.length;if(!G)return q(null,R);M.forEach(function(Q){Q=f.join($,Q),w.fs.stat(Q,function(Y,X){if(Y)return q(Y);if(X){if(R.push(f.normalize(Q)+(X.isDirectory()?w.sep:"")),X.isDirectory())w.findFilesAsync(Q,function(A,j){if(A)return q(A);if(R=R.concat(j),!--G)q(null,R)});else if(!--G)q(null,R)}})})})};u.prototype.getAttributes=function(){};u.prototype.setAttributes=function(){};u.crc32update=function($,q){return l$[($^q)&255]^$>>>8};u.crc32=function($){if(typeof $==="string")$=Buffer.from($,"utf8");let q=$.length,w=-1;for(let R=0;R<q;)w=u.crc32update(w,$[R++]);return~w>>>0};u.methodToString=function($){switch($){case r$.STORED:return"STORED ("+$+")";case r$.DEFLATED:return"DEFLATED ("+$+")";default:return"UNSUPPORTED ("+$+")"}};u.canonical=function($){if(!$)return"";let q=f.posix.normalize("/"+$.split("\\").join("/"));return f.join(".",q)};u.zipnamefix=function($){if(!$)return"";let q=f.posix.normalize("/"+$.split("\\").join("/"));return f.posix.join(".",q)};u.findLast=function($,q){if(!Array.isArray($))throw new TypeError("arr is not array");let w=$.length>>>0;for(let R=w-1;R>=0;R--)if(q($[R],R,$))return $[R];return};u.sanitize=function($,q){$=f.resolve(f.normalize($));var w=q.split("/");for(var R=0,T=w.length;R<T;R++){var M=f.normalize(f.join($,w.slice(R,T).join(f.sep)));if(M.indexOf($)===0)return M}return f.normalize(f.join($,f.basename(q)))};u.toBuffer=function $(q,w){if(Buffer.isBuffer(q))return q;else if(q instanceof Uint8Array)return Buffer.from(q);else return typeof q==="string"?w(q):Buffer.alloc(0)};u.readBigUInt64LE=function($,q){var w=Buffer.from($.slice(q,q+8));return w.swap64(),parseInt(`0x${w.toString("hex")}`)};u.fromDOS2Date=function($){return new Date(($>>25&127)+1980,Math.max(($>>21&15)-1,0),Math.max($>>16&31,1),$>>11&31,$>>5&63,($&31)<<1)};u.fromDate2DOS=function($){let q=0,w=0;if($.getFullYear()>1979)q=($.getFullYear()-1980&127)<<9|$.getMonth()+1<<5|$.getDate(),w=$.getHours()<<11|$.getMinutes()<<5|$.getSeconds()>>1;return q<<16|w};u.isWin=hR;u.crcTable=l$});var o$=N((jG,n$)=>{var OR=s("path");n$.exports=function($,{fs:q}){var w=$||"",R=M(),T=null;function M(){return{directory:!1,readonly:!1,hidden:!1,executable:!1,mtime:0,atime:0}}if(w&&q.existsSync(w))T=q.statSync(w),R.directory=T.isDirectory(),R.mtime=T.mtime,R.atime=T.atime,R.executable=(73&T.mode)!==0,R.readonly=(128&T.mode)===0,R.hidden=OR.basename(w)[0]===".";else console.warn("Invalid path: "+w);return{get directory(){return R.directory},get readOnly(){return R.readonly},get hidden(){return R.hidden},get mtime(){return R.mtime},get atime(){return R.atime},get executable(){return R.executable},decodeAttributes:function(){},encodeAttributes:function(){},toJSON:function(){return{path:w,isDirectory:R.directory,isReadOnly:R.readonly,isHidden:R.hidden,isExecutable:R.executable,mTime:R.mtime,aTime:R.atime}},toString:function(){return JSON.stringify(this.toJSON(),null,"\t")}}}});var e$=N((DG,a$)=>{a$.exports={efs:!0,encode:($)=>Buffer.from($,"utf8"),decode:($)=>$.toString("utf8")}});var Y0=N((FG,Q0)=>{Q0.exports=t$();Q0.exports.Constants=p0();Q0.exports.Errors=F0();Q0.exports.FileAttr=o$();Q0.exports.decoder=e$()});var q1=N((UG,$1)=>{var a=Y0(),F=a.Constants;$1.exports=function(){var $=20,q=10,w=0,R=0,T=0,M=0,G=0,Q=0,Y=0,X=0,A=0,j=0,z=0,Z=0,I=0;$|=a.isWin?2560:768,w|=F.FLG_EFS;let W={extraLen:0},K=(J)=>Math.max(0,J)>>>0,V=(J)=>Math.max(0,J)&65535,L=(J)=>Math.max(0,J)&255;return T=a.fromDate2DOS(new Date),{get made(){return $},set made(J){$=J},get version(){return q},set version(J){q=J},get flags(){return w},set flags(J){w=J},get flags_efs(){return(w&F.FLG_EFS)>0},set flags_efs(J){if(J)w|=F.FLG_EFS;else w&=~F.FLG_EFS},get flags_desc(){return(w&F.FLG_DESC)>0},set flags_desc(J){if(J)w|=F.FLG_DESC;else w&=~F.FLG_DESC},get method(){return R},set method(J){switch(J){case F.STORED:this.version=10;case F.DEFLATED:default:this.version=20}R=J},get time(){return a.fromDOS2Date(this.timeval)},set time(J){this.timeval=a.fromDate2DOS(J)},get timeval(){return T},set timeval(J){T=K(J)},get timeHighByte(){return L(T>>>8)},get crc(){return M},set crc(J){M=K(J)},get compressedSize(){return G},set compressedSize(J){G=K(J)},get size(){return Q},set size(J){Q=K(J)},get fileNameLength(){return Y},set fileNameLength(J){Y=J},get extraLength(){return X},set extraLength(J){X=J},get extraLocalLength(){return W.extraLen},set extraLocalLength(J){W.extraLen=J},get commentLength(){return A},set commentLength(J){A=J},get diskNumStart(){return j},set diskNumStart(J){j=K(J)},get inAttr(){return z},set inAttr(J){z=K(J)},get attr(){return Z},set attr(J){Z=K(J)},get fileAttr(){return(Z||0)>>16&4095},get offset(){return I},set offset(J){I=K(J)},get encrypted(){return(w&F.FLG_ENC)===F.FLG_ENC},get centralHeaderSize(){return F.CENHDR+Y+X+A},get realDataOffset(){return I+F.LOCHDR+W.fnameLen+W.extraLen},get localHeader(){return W},loadLocalHeaderFromBinary:function(J){var S=J.slice(I,I+F.LOCHDR);if(S.readUInt32LE(0)!==F.LOCSIG)throw a.Errors.INVALID_LOC();W.version=S.readUInt16LE(F.LOCVER),W.flags=S.readUInt16LE(F.LOCFLG),W.method=S.readUInt16LE(F.LOCHOW),W.time=S.readUInt32LE(F.LOCTIM),W.crc=S.readUInt32LE(F.LOCCRC),W.compressedSize=S.readUInt32LE(F.LOCSIZ),W.size=S.readUInt32LE(F.LOCLEN),W.fnameLen=S.readUInt16LE(F.LOCNAM),W.extraLen=S.readUInt16LE(F.LOCEXT);let B=I+F.LOCHDR+W.fnameLen,D=B+W.extraLen;return J.slice(B,D)},loadFromBinary:function(J){if(J.length!==F.CENHDR||J.readUInt32LE(0)!==F.CENSIG)throw a.Errors.INVALID_CEN();$=J.readUInt16LE(F.CENVEM),q=J.readUInt16LE(F.CENVER),w=J.readUInt16LE(F.CENFLG),R=J.readUInt16LE(F.CENHOW),T=J.readUInt32LE(F.CENTIM),M=J.readUInt32LE(F.CENCRC),G=J.readUInt32LE(F.CENSIZ),Q=J.readUInt32LE(F.CENLEN),Y=J.readUInt16LE(F.CENNAM),X=J.readUInt16LE(F.CENEXT),A=J.readUInt16LE(F.CENCOM),j=J.readUInt16LE(F.CENDSK),z=J.readUInt16LE(F.CENATT),Z=J.readUInt32LE(F.CENATX),I=J.readUInt32LE(F.CENOFF)},localHeaderToBinary:function(){var J=Buffer.alloc(F.LOCHDR);return J.writeUInt32LE(F.LOCSIG,0),J.writeUInt16LE(q,F.LOCVER),J.writeUInt16LE(w,F.LOCFLG),J.writeUInt16LE(R,F.LOCHOW),J.writeUInt32LE(T,F.LOCTIM),J.writeUInt32LE(M,F.LOCCRC),J.writeUInt32LE(G,F.LOCSIZ),J.writeUInt32LE(Q,F.LOCLEN),J.writeUInt16LE(Y,F.LOCNAM),J.writeUInt16LE(W.extraLen,F.LOCEXT),J},centralHeaderToBinary:function(){var J=Buffer.alloc(F.CENHDR+Y+X+A);return J.writeUInt32LE(F.CENSIG,0),J.writeUInt16LE($,F.CENVEM),J.writeUInt16LE(q,F.CENVER),J.writeUInt16LE(w,F.CENFLG),J.writeUInt16LE(R,F.CENHOW),J.writeUInt32LE(T,F.CENTIM),J.writeUInt32LE(M,F.CENCRC),J.writeUInt32LE(G,F.CENSIZ),J.writeUInt32LE(Q,F.CENLEN),J.writeUInt16LE(Y,F.CENNAM),J.writeUInt16LE(X,F.CENEXT),J.writeUInt16LE(A,F.CENCOM),J.writeUInt16LE(j,F.CENDSK),J.writeUInt16LE(z,F.CENATT),J.writeUInt32LE(Z,F.CENATX),J.writeUInt32LE(I,F.CENOFF),J},toJSON:function(){let J=function(S){return S+" bytes"};return{made:$,version:q,flags:w,method:a.methodToString(R),time:this.time,crc:"0x"+M.toString(16).toUpperCase(),compressedSize:J(G),size:J(Q),fileNameLength:J(Y),extraLength:J(X),commentLength:J(A),diskNumStart:j,inAttr:z,attr:Z,offset:I,centralHeaderSize:J(F.CENHDR+Y+X+A)}},toString:function(){return JSON.stringify(this.toJSON(),null,"\t")}}}});var R1=N((NG,w1)=>{var X0=Y0(),x=X0.Constants;w1.exports=function(){var $=0,q=0,w=0,R=0,T=0;return{get diskEntries(){return $},set diskEntries(M){$=q=M},get totalEntries(){return q},set totalEntries(M){q=$=M},get size(){return w},set size(M){w=M},get offset(){return R},set offset(M){R=M},get commentLength(){return T},set commentLength(M){T=M},get mainHeaderSize(){return x.ENDHDR+T},loadFromBinary:function(M){if((M.length!==x.ENDHDR||M.readUInt32LE(0)!==x.ENDSIG)&&(M.length<x.ZIP64HDR||M.readUInt32LE(0)!==x.ZIP64SIG))throw X0.Errors.INVALID_END();if(M.readUInt32LE(0)===x.ENDSIG)$=M.readUInt16LE(x.ENDSUB),q=M.readUInt16LE(x.ENDTOT),w=M.readUInt32LE(x.ENDSIZ),R=M.readUInt32LE(x.ENDOFF),T=M.readUInt16LE(x.ENDCOM);else $=X0.readBigUInt64LE(M,x.ZIP64SUB),q=X0.readBigUInt64LE(M,x.ZIP64TOT),w=X0.readBigUInt64LE(M,x.ZIP64SIZE),R=X0.readBigUInt64LE(M,x.ZIP64OFF),T=0},toBinary:function(){var M=Buffer.alloc(x.ENDHDR+T);return M.writeUInt32LE(x.ENDSIG,0),M.writeUInt32LE(0,4),M.writeUInt16LE($,x.ENDSUB),M.writeUInt16LE(q,x.ENDTOT),M.writeUInt32LE(w,x.ENDSIZ),M.writeUInt32LE(R,x.ENDOFF),M.writeUInt16LE(T,x.ENDCOM),M.fill(" ",x.ENDHDR),M},toJSON:function(){let M=function(G,Q){let Y=G.toString(16).toUpperCase();while(Y.length<Q)Y="0"+Y;return"0x"+Y};return{diskEntries:$,totalEntries:q,size:w+" bytes",offset:M(R,4),commentLength:T}},toString:function(){return JSON.stringify(this.toJSON(),null,"\t")}}}});var l0=N((CR)=>{CR.EntryHeader=q1();CR.MainHeader=R1()});var M1=N((HG,T1)=>{T1.exports=function($){var q=s("zlib"),w={chunkSize:(parseInt($.length/1024)+1)*1024};return{deflate:function(){return q.deflateRawSync($,w)},deflateAsync:function(R){var T=q.createDeflateRaw(w),M=[],G=0;T.on("data",function(Q){M.push(Q),G+=Q.length}),T.on("end",function(){var Q=Buffer.alloc(G),Y=0;Q.fill(0);for(var X=0;X<M.length;X++){var A=M[X];A.copy(Q,Y),Y+=A.length}R&&R(Q)}),T.end($)}}}});var J1=N((EG,G1)=>{var uR=+(process.versions?process.versions.node:"").split(".")[0]||0;G1.exports=function($,q){var w=s("zlib");let R=uR>=15&&q>0?{maxOutputLength:q}:{};return{inflate:function(){return w.inflateRawSync($,R)},inflateAsync:function(T){var M=w.createInflateRaw(R),G=[],Q=0;M.on("data",function(Y){G.push(Y),Q+=Y.length}),M.on("end",function(){var Y=Buffer.alloc(Q),X=0;Y.fill(0);for(var A=0;A<G.length;A++){var j=G[A];j.copy(Y,X),X+=j.length}T&&T(Y)}),M.end($)}}}});var I1=N((PG,Z1)=>{var{randomFillSync:Q1}=s("crypto"),bR=F0(),yR=new Uint32Array(256).map(($,q)=>{for(let w=0;w<8;w++)if((q&1)!==0)q=q>>>1^3988292384;else q>>>=1;return q>>>0}),X1=($,q)=>Math.imul($,q)>>>0,Y1=($,q)=>{return yR[($^q)&255]^$>>>8},S0=()=>{if(typeof Q1==="function")return Q1(Buffer.alloc(12));else return S0.node()};S0.node=()=>{let $=Buffer.alloc(12),q=$.length;for(let w=0;w<q;w++)$[w]=Math.random()*256&255;return $};var U0={genSalt:S0};function N0($){let q=Buffer.isBuffer($)?$:Buffer.from($);this.keys=new Uint32Array([305419896,591751049,878082192]);for(let w=0;w<q.length;w++)this.updateKeys(q[w])}N0.prototype.updateKeys=function($){let q=this.keys;return q[0]=Y1(q[0],$),q[1]+=q[0]&255,q[1]=X1(q[1],134775813)+1,q[2]=Y1(q[2],q[1]>>>24),$};N0.prototype.next=function(){let $=(this.keys[2]|2)>>>0;return X1($,$^1)>>8&255};function fR($){let q=new N0($);return function(w){let R=Buffer.alloc(w.length),T=0;for(let M of w)R[T++]=q.updateKeys(M^q.next());return R}}function gR($){let q=new N0($);return function(w,R,T=0){if(!R)R=Buffer.alloc(w.length);for(let M of w){let G=q.next();R[T++]=M^G,q.updateKeys(M)}return R}}function vR($,q,w){if(!$||!Buffer.isBuffer($)||$.length<12)return Buffer.alloc(0);let R=fR(w),T=R($.slice(0,12)),M=(q.flags&8)===8?q.timeHighByte:q.crc>>>24;if(T[11]!==M)throw bR.WRONG_PASSWORD();return R($.slice(12))}function kR($){if(Buffer.isBuffer($)&&$.length>=12)U0.genSalt=function(){return $.slice(0,12)};else if($==="node")U0.genSalt=S0.node;else U0.genSalt=S0}function sR($,q,w,R=!1){if($==null)$=Buffer.alloc(0);if(!Buffer.isBuffer($))$=Buffer.from($.toString());let T=gR(w),M=U0.genSalt();if(M[11]=q.crc>>>24&255,R)M[10]=q.crc>>>16&255;let G=Buffer.alloc($.length+12);return T(M,G),T($,G,12)}Z1.exports={decrypt:vR,encrypt:sR,_salter:kR}});var V1=N((mR)=>{mR.Deflater=M1();mR.Inflater=J1();mR.ZipCrypto=I1()});var t0=N((OG,S1)=>{var h=Y0(),pR=l0(),b=h.Constants,c0=V1();S1.exports=function($,q){var w=new pR.EntryHeader,R=Buffer.alloc(0),T=Buffer.alloc(0),M=!1,G=null,Q=Buffer.alloc(0),Y=Buffer.alloc(0),X=!0;let A=$,j=typeof A.decoder==="object"?A.decoder:h.decoder;X=j.hasOwnProperty("efs")?j.efs:!1;function z(){if(!q||!(q instanceof Uint8Array))return Buffer.alloc(0);return Y=w.loadLocalHeaderFromBinary(q),q.slice(w.realDataOffset,w.realDataOffset+w.compressedSize)}function Z(J){if(!w.flags_desc){if(h.crc32(J)!==w.localHeader.crc)return!1}else{let S={},B=w.realDataOffset+w.compressedSize;if(q.readUInt32LE(B)==b.LOCSIG||q.readUInt32LE(B)==b.CENSIG)throw h.Errors.DESCRIPTOR_NOT_EXIST();if(q.readUInt32LE(B)==b.EXTSIG)S.crc=q.readUInt32LE(B+b.EXTCRC),S.compressedSize=q.readUInt32LE(B+b.EXTSIZ),S.size=q.readUInt32LE(B+b.EXTLEN);else if(q.readUInt16LE(B+12)===19280)S.crc=q.readUInt32LE(B+b.EXTCRC-4),S.compressedSize=q.readUInt32LE(B+b.EXTSIZ-4),S.size=q.readUInt32LE(B+b.EXTLEN-4);else throw h.Errors.DESCRIPTOR_UNKNOWN();if(S.compressedSize!==w.compressedSize||S.size!==w.size||S.crc!==w.crc)throw h.Errors.DESCRIPTOR_FAULTY();if(h.crc32(J)!==S.crc)return!1}return!0}function I(J,S,B){if(typeof S==="undefined"&&typeof J==="string")B=J,J=void 0;if(M){if(J&&S)S(Buffer.alloc(0),h.Errors.DIRECTORY_CONTENT_ERROR());return Buffer.alloc(0)}var D=z();if(D.length===0){if(J&&S)S(D);return D}if(w.encrypted){if(typeof B!=="string"&&!Buffer.isBuffer(B))throw h.Errors.INVALID_PASS_PARAM();D=c0.ZipCrypto.decrypt(D,w,B)}var U=Buffer.alloc(w.size);switch(w.method){case h.Constants.STORED:if(D.copy(U),!Z(U)){if(J&&S)S(U,h.Errors.BAD_CRC());throw h.Errors.BAD_CRC()}else{if(J&&S)S(U);return U}case h.Constants.DEFLATED:var H=new c0.Inflater(D,w.size);if(!J){if(H.inflate(U).copy(U,0),!Z(U))throw h.Errors.BAD_CRC(`"${j.decode(R)}"`);return U}else H.inflateAsync(function(E){if(E.copy(E,0),S)if(!Z(E))S(E,h.Errors.BAD_CRC());else S(E)});break;default:if(J&&S)S(Buffer.alloc(0),h.Errors.UNKNOWN_METHOD());throw h.Errors.UNKNOWN_METHOD()}}function W(J,S){if((!G||!G.length)&&Buffer.isBuffer(q)){if(J&&S)S(z());return z()}if(G.length&&!M){var B;switch(w.method){case h.Constants.STORED:if(w.compressedSize=w.size,B=Buffer.alloc(G.length),G.copy(B),J&&S)S(B);return B;default:case h.Constants.DEFLATED:var D=new c0.Deflater(G);if(!J){var U=D.deflate();return w.compressedSize=U.length,U}else D.deflateAsync(function(H){B=Buffer.alloc(H.length),w.compressedSize=H.length,H.copy(B),S&&S(B)});D=null;break}}else if(J&&S)S(Buffer.alloc(0));else return Buffer.alloc(0)}function K(J,S){return(J.readUInt32LE(S+4)<<4)+J.readUInt32LE(S)}function V(J){try{var S=0,B,D,U;while(S+4<J.length)if(B=J.readUInt16LE(S),S+=2,D=J.readUInt16LE(S),S+=2,U=J.slice(S,S+D),S+=D,b.ID_ZIP64===B)L(U)}catch(H){throw h.Errors.EXTRA_FIELD_PARSE_ERROR()}}function L(J){var S,B,D,U;if(J.length>=b.EF_ZIP64_SCOMP){if(S=K(J,b.EF_ZIP64_SUNCOMP),w.size===b.EF_ZIP64_OR_32)w.size=S}if(J.length>=b.EF_ZIP64_RHO){if(B=K(J,b.EF_ZIP64_SCOMP),w.compressedSize===b.EF_ZIP64_OR_32)w.compressedSize=B}if(J.length>=b.EF_ZIP64_DSN){if(D=K(J,b.EF_ZIP64_RHO),w.offset===b.EF_ZIP64_OR_32)w.offset=D}if(J.length>=b.EF_ZIP64_DSN+4){if(U=J.readUInt32LE(b.EF_ZIP64_DSN),w.diskNumStart===b.EF_ZIP64_OR_16)w.diskNumStart=U}}return{get entryName(){return j.decode(R)},get rawEntryName(){return R},set entryName(J){R=h.toBuffer(J,j.encode);var S=R[R.length-1];M=S===47||S===92,w.fileNameLength=R.length},get efs(){if(typeof X==="function")return X(this.entryName);else return X},get extra(){return Q},set extra(J){Q=J,w.extraLength=J.length,V(J)},get comment(){return j.decode(T)},set comment(J){if(T=h.toBuffer(J,j.encode),w.commentLength=T.length,T.length>65535)throw h.Errors.COMMENT_TOO_LONG()},get name(){var J=j.decode(R);return M?J.substr(J.length-1).split("/").pop():J.split("/").pop()},get isDirectory(){return M},getCompressedData:function(){return W(!1,null)},getCompressedDataAsync:function(J){W(!0,J)},setData:function(J){if(G=h.toBuffer(J,h.decoder.encode),!M&&G.length)w.size=G.length,w.method=h.Constants.DEFLATED,w.crc=h.crc32(J),w.changed=!0;else w.method=h.Constants.STORED},getData:function(J){if(w.changed)return G;else return I(!1,null,J)},getDataAsync:function(J,S){if(w.changed)J(G);else I(!0,J,S)},set attr(J){w.attr=J},get attr(){return w.attr},set header(J){w.loadFromBinary(J)},get header(){return w},packCentralHeader:function(){w.flags_efs=this.efs,w.extraLength=Q.length;var J=w.centralHeaderToBinary(),S=h.Constants.CENHDR;return R.copy(J,S),S+=R.length,Q.copy(J,S),S+=w.extraLength,T.copy(J,S),J},packLocalHeader:function(){let J=0;w.flags_efs=this.efs,w.extraLocalLength=Y.length;let S=w.localHeaderToBinary(),B=Buffer.alloc(S.length+R.length+w.extraLocalLength);return S.copy(B,J),J+=S.length,R.copy(B,J),J+=R.length,Y.copy(B,J),J+=Y.length,B},toJSON:function(){let J=function(S){return"<"+(S&&S.length+" bytes buffer"||"null")+">"};return{entryName:this.entryName,name:this.name,comment:this.comment,isDirectory:this.isDirectory,header:w.toJSON(),compressedData:J(q),data:J(G)}},toString:function(){return JSON.stringify(this.toJSON(),null,"\t")}}}});var B1=N((CG,K1)=>{var W1=t0(),lR=l0(),v=Y0();K1.exports=function($,q){var w=[],R={},T=Buffer.alloc(0),M=new lR.MainHeader,G=!1,Q=null;let Y=new Set,X=q,{noSort:A,decoder:j}=X;if($)I(X.readEntries);else G=!0;function z(){let K=new Set;for(let V of Object.keys(R)){let L=V.split("/");if(L.pop(),!L.length)continue;for(let J=0;J<L.length;J++){let S=L.slice(0,J+1).join("/")+"/";K.add(S)}}for(let V of K)if(!(V in R)){let L=new W1(X);L.entryName=V,L.attr=16,L.temporary=!0,w.push(L),R[L.entryName]=L,Y.add(L)}}function Z(){if(G=!0,R={},M.diskEntries>($.length-M.offset)/v.Constants.CENHDR)throw v.Errors.DISK_ENTRY_TOO_LARGE();w=new Array(M.diskEntries);var K=M.offset;for(var V=0;V<w.length;V++){var L=K,J=new W1(X,$);if(J.header=$.slice(L,L+=v.Constants.CENHDR),J.entryName=$.slice(L,L+=J.header.fileNameLength),J.header.extraLength)J.extra=$.slice(L,L+=J.header.extraLength);if(J.header.commentLength)J.comment=$.slice(L,L+J.header.commentLength);K+=J.header.centralHeaderSize,w[V]=J,R[J.entryName]=J}Y.clear(),z()}function I(K){var V=$.length-v.Constants.ENDHDR,L=Math.max(0,V-65535),J=L,S=$.length,B=-1,D=0;if(typeof X.trailingSpace==="boolean"?X.trailingSpace:!1)L=0;for(V;V>=J;V--){if($[V]!==80)continue;if($.readUInt32LE(V)===v.Constants.ENDSIG){B=V,D=V,S=V+v.Constants.ENDHDR,J=V-v.Constants.END64HDR;continue}if($.readUInt32LE(V)===v.Constants.END64SIG){J=L;continue}if($.readUInt32LE(V)===v.Constants.ZIP64SIG){B=V,S=V+v.readBigUInt64LE($,V+v.Constants.ZIP64SIZE)+v.Constants.ZIP64LEAD;break}}if(B==-1)throw v.Errors.INVALID_FORMAT();if(M.loadFromBinary($.slice(B,S)),M.commentLength)T=$.slice(D+v.Constants.ENDHDR);if(K)Z()}function W(){if(w.length>1&&!A)w.sort((K,V)=>K.entryName.toLowerCase().localeCompare(V.entryName.toLowerCase()))}return{get entries(){if(!G)Z();return w.filter((K)=>!Y.has(K))},get comment(){return j.decode(T)},set comment(K){T=v.toBuffer(K,j.encode),M.commentLength=T.length},getEntryCount:function(){if(!G)return M.diskEntries;return w.length},forEach:function(K){this.entries.forEach(K)},getEntry:function(K){if(!G)Z();return R[K]||null},setEntry:function(K){if(!G)Z();w.push(K),R[K.entryName]=K,M.totalEntries=w.length},deleteFile:function(K,V=!0){if(!G)Z();let L=R[K];this.getEntryChildren(L,V).map((S)=>S.entryName).forEach(this.deleteEntry)},deleteEntry:function(K){if(!G)Z();let V=R[K],L=w.indexOf(V);if(L>=0)w.splice(L,1),delete R[K],M.totalEntries=w.length},getEntryChildren:function(K,V=!0){if(!G)Z();if(typeof K==="object")if(K.isDirectory&&V){let L=[],J=K.entryName;for(let S of w)if(S.entryName.startsWith(J))L.push(S);return L}else return[K];return[]},getChildCount:function(K){if(K&&K.isDirectory){let V=this.getEntryChildren(K);return V.includes(K)?V.length-1:V.length}return 0},compressToBuffer:function(){if(!G)Z();W();let K=[],V=[],L=0,J=0;M.size=0,M.offset=0;let S=0;for(let U of this.entries){let H=U.getCompressedData();U.header.offset=J;let E=U.packLocalHeader(),C=E.length+H.length;J+=C,K.push(E),K.push(H);let O=U.packCentralHeader();V.push(O),M.size+=O.length,L+=C+O.length,S++}L+=M.mainHeaderSize,M.offset=J,M.totalEntries=S,J=0;let B=Buffer.alloc(L);for(let U of K)U.copy(B,J),J+=U.length;for(let U of V)U.copy(B,J),J+=U.length;let D=M.toBinary();if(T)T.copy(D,v.Constants.ENDHDR);return D.copy(B,J),$=B,G=!1,B},toAsyncBuffer:function(K,V,L,J){try{if(!G)Z();W();let S=[],B=[],D=0,U=0,H=0;M.size=0,M.offset=0;let E=function(C){if(C.length>0){let O=C.shift(),t=O.entryName+O.extra.toString();if(L)L(t);O.getCompressedDataAsync(function(r){if(J)J(t);O.header.offset=U;let A0=O.packLocalHeader(),F$=A0.length+r.length;U+=F$,S.push(A0),S.push(r);let y0=O.packCentralHeader();B.push(y0),M.size+=y0.length,D+=F$+y0.length,H++,E(C)})}else{D+=M.mainHeaderSize,M.offset=U,M.totalEntries=H,U=0;let O=Buffer.alloc(D);S.forEach(function(r){r.copy(O,U),U+=r.length}),B.forEach(function(r){r.copy(O,U),U+=r.length});let t=M.toBinary();if(T)T.copy(t,v.Constants.ENDHDR);t.copy(O,U),$=O,G=!1,K(O)}};E(Array.from(this.entries))}catch(S){V(S)}}}}});var j1=N((xG,A1)=>{var _=Y0(),y=s("path"),cR=t0(),tR=B1(),R0=(...$)=>_.findLast($,(q)=>typeof q==="boolean"),L1=(...$)=>_.findLast($,(q)=>typeof q==="string"),nR=(...$)=>_.findLast($,(q)=>typeof q==="function"),oR={noSort:!1,readEntries:!1,method:_.Constants.NONE,fs:null};A1.exports=function($,q){let w=null,R=Object.assign(Object.create(null),oR);if($&&typeof $==="object"){if(!($ instanceof Uint8Array)){if(Object.assign(R,$),$=R.input?R.input:void 0,R.input)delete R.input}if(Buffer.isBuffer($))w=$,R.method=_.Constants.BUFFER,$=void 0}Object.assign(R,q);let T=new _(R);if(typeof R.decoder!=="object"||typeof R.decoder.encode!=="function"||typeof R.decoder.decode!=="function")R.decoder=_.decoder;if($&&typeof $==="string")if(T.fs.existsSync($))R.method=_.Constants.FILE,R.filename=$,w=T.fs.readFileSync($);else throw _.Errors.INVALID_FILENAME();let M=new tR(w,R),{canonical:G,sanitize:Q,zipnamefix:Y}=_;function X(Z){if(Z&&M){var I;if(typeof Z==="string")I=M.getEntry(y.posix.normalize(Z));if(typeof Z==="object"&&typeof Z.entryName!=="undefined"&&typeof Z.header!=="undefined")I=M.getEntry(Z.entryName);if(I)return I}return null}function A(Z){let{join:I,normalize:W,sep:K}=y.posix;return I(".",W(K+Z.split("\\").join(K)+K))}function j(Z){if(Z instanceof RegExp)return function(I){return function(W){return I.test(W)}}(Z);else if(typeof Z!=="function")return()=>!0;return Z}let z=(Z,I)=>{let W=I.slice(-1);return W=W===T.sep?T.sep:"",y.relative(Z,I)+W};return{readFile:function(Z,I){var W=X(Z);return W&&W.getData(I)||null},childCount:function(Z){let I=X(Z);if(I)return M.getChildCount(I)},readFileAsync:function(Z,I){var W=X(Z);if(W)W.getDataAsync(I);else I(null,"getEntry failed for:"+Z)},readAsText:function(Z,I){var W=X(Z);if(W){var K=W.getData();if(K&&K.length)return K.toString(I||"utf8")}return""},readAsTextAsync:function(Z,I,W){var K=X(Z);if(K)K.getDataAsync(function(V,L){if(L){I(V,L);return}if(V&&V.length)I(V.toString(W||"utf8"));else I("")});else I("")},deleteFile:function(Z,I=!0){var W=X(Z);if(W)M.deleteFile(W.entryName,I)},deleteEntry:function(Z){var I=X(Z);if(I)M.deleteEntry(I.entryName)},addZipComment:function(Z){M.comment=Z},getZipComment:function(){return M.comment||""},addZipEntryComment:function(Z,I){var W=X(Z);if(W)W.comment=I},getZipEntryComment:function(Z){var I=X(Z);if(I)return I.comment||"";return""},updateFile:function(Z,I){var W=X(Z);if(W)W.setData(I)},addLocalFile:function(Z,I,W,K){if(T.fs.existsSync(Z)){I=I?A(I):"";let V=y.win32.basename(y.win32.normalize(Z));I+=W?W:V;let L=T.fs.statSync(Z),J=L.isFile()?T.fs.readFileSync(Z):Buffer.alloc(0);if(L.isDirectory())I+=T.sep;this.addFile(I,J,K,L)}else throw _.Errors.FILE_NOT_FOUND(Z)},addLocalFileAsync:function(Z,I){Z=typeof Z==="object"?Z:{localPath:Z};let W=y.resolve(Z.localPath),{comment:K}=Z,{zipPath:V,zipName:L}=Z,J=this;T.fs.stat(W,function(S,B){if(S)return I(S,!1);V=V?A(V):"";let D=y.win32.basename(y.win32.normalize(W));if(V+=L?L:D,B.isFile())T.fs.readFile(W,function(U,H){if(U)return I(U,!1);return J.addFile(V,H,K,B),setImmediate(I,void 0,!0)});else if(B.isDirectory())return V+=T.sep,J.addFile(V,Buffer.alloc(0),K,B),setImmediate(I,void 0,!0)})},addLocalFolder:function(Z,I,W){if(W=j(W),I=I?A(I):"",Z=y.normalize(Z),T.fs.existsSync(Z)){let K=T.findFiles(Z),V=this;if(K.length)for(let L of K){let J=y.join(I,z(Z,L));if(W(J))V.addLocalFile(L,y.dirname(J))}}else throw _.Errors.FILE_NOT_FOUND(Z)},addLocalFolderAsync:function(Z,I,W,K){K=j(K),W=W?A(W):"",Z=y.normalize(Z);var V=this;T.fs.open(Z,"r",function(L){if(L&&L.code==="ENOENT")I(void 0,_.Errors.FILE_NOT_FOUND(Z));else if(L)I(void 0,L);else{var J=T.findFiles(Z),S=-1,B=function(){if(S+=1,S<J.length){var D=J[S],U=z(Z,D).split("\\").join("/");if(U=U.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x20-\x7E]/g,""),K(U))T.fs.stat(D,function(H,E){if(H)I(void 0,H);if(E.isFile())T.fs.readFile(D,function(C,O){if(C)I(void 0,C);else V.addFile(W+U,O,"",E),B()});else V.addFile(W+U+"/",Buffer.alloc(0),"",E),B()});else process.nextTick(()=>{B()})}else I(!0,void 0)};B()}})},addLocalFolderAsync2:function(Z,I){let W=this;Z=typeof Z==="object"?Z:{localPath:Z},localPath=y.resolve(A(Z.localPath));let{zipPath:K,filter:V,namefix:L}=Z;if(V instanceof RegExp)V=function(B){return function(D){return B.test(D)}}(V);else if(typeof V!=="function")V=function(){return!0};if(K=K?A(K):"",L=="latin1")L=(B)=>B.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x20-\x7E]/g,"");if(typeof L!=="function")L=(B)=>B;let J=(B)=>y.join(K,L(z(localPath,B))),S=(B)=>y.win32.basename(y.win32.normalize(L(B)));T.fs.open(localPath,"r",function(B){if(B&&B.code==="ENOENT")I(void 0,_.Errors.FILE_NOT_FOUND(localPath));else if(B)I(void 0,B);else T.findFilesAsync(localPath,function(D,U){if(D)return I(D);if(U=U.filter((H)=>V(J(H))),!U.length)I(void 0,!1);setImmediate(U.reverse().reduce(function(H,E){return function(C,O){if(C||O===!1)return setImmediate(H,C,!1);W.addLocalFileAsync({localPath:E,zipPath:y.dirname(J(E)),zipName:S(E)},H)}},I))})})},addLocalFolderPromise:function(Z,I){return new Promise((W,K)=>{this.addLocalFolderAsync2(Object.assign({localPath:Z},I),(V,L)=>{if(V)K(V);if(L)W(this)})})},addFile:function(Z,I,W,K){Z=Y(Z);let V=X(Z),L=V!=null;if(!L)V=new cR(R),V.entryName=Z;V.comment=W||"";let J=typeof K==="object"&&K instanceof T.fs.Stats;if(J)V.header.time=K.mtime;var S=V.isDirectory?16:0;let B=V.isDirectory?16384:32768;if(J)B|=4095&K.mode;else if(typeof K==="number")B|=4095&K;else B|=V.isDirectory?493:420;if(S=(S|B<<16)>>>0,V.attr=S,V.setData(I),!L)M.setEntry(V);return V},getEntries:function(Z){return M.password=Z,M?M.entries:[]},getEntry:function(Z){return X(Z)},getEntryCount:function(){return M.getEntryCount()},forEach:function(Z){return M.forEach(Z)},extractEntryTo:function(Z,I,W,K,V,L){K=R0(!1,K),V=R0(!1,V),W=R0(!0,W),L=L1(V,L);var J=X(Z);if(!J)throw _.Errors.NO_ENTRY();var S=G(J.entryName),B=Q(I,L&&!J.isDirectory?L:W?S:y.basename(S));if(J.isDirectory){var D=M.getEntryChildren(J);return D.forEach(function(E){if(E.isDirectory)return;var C=E.getData();if(!C)throw _.Errors.CANT_EXTRACT_FILE();var O=G(E.entryName),t=Q(I,W?O:y.basename(O));let r=V?E.header.fileAttr:void 0;T.writeFileTo(t,C,K,r)}),!0}var U=J.getData(M.password);if(!U)throw _.Errors.CANT_EXTRACT_FILE();if(T.fs.existsSync(B)&&!K)throw _.Errors.CANT_OVERRIDE();let H=V?Z.header.fileAttr:void 0;return T.writeFileTo(B,U,K,H),!0},test:function(Z){if(!M)return!1;for(var I in M.entries)try{if(I.isDirectory)continue;var W=M.entries[I].getData(Z);if(!W)return!1}catch(K){return!1}return!0},extractAllTo:function(Z,I,W,K){if(W=R0(!1,W),K=L1(W,K),I=R0(!1,I),!M)throw _.Errors.NO_ZIP();M.entries.forEach(function(V){var L=Q(Z,G(V.entryName));if(V.isDirectory){T.makeDir(L);return}var J=V.getData(K);if(!J)throw _.Errors.CANT_EXTRACT_FILE();let S=W?V.header.fileAttr:void 0;T.writeFileTo(L,J,I,S);try{T.fs.utimesSync(L,V.header.time,V.header.time)}catch(B){throw _.Errors.CANT_EXTRACT_FILE()}})},extractAllToAsync:function(Z,I,W,K){if(K=nR(I,W,K),W=R0(!1,W),I=R0(!1,I),!K)return new Promise((B,D)=>{this.extractAllToAsync(Z,I,W,function(U){if(U)D(U);else B(this)})});if(!M){K(_.Errors.NO_ZIP());return}Z=y.resolve(Z);let V=(B)=>Q(Z,y.normalize(G(B.entryName))),L=(B,D)=>new Error(B+': "'+D+'"'),J=[],S=[];M.entries.forEach((B)=>{if(B.isDirectory)J.push(B);else S.push(B)});for(let B of J){let D=V(B),U=W?B.header.fileAttr:void 0;try{if(T.makeDir(D),U)T.fs.chmodSync(D,U);T.fs.utimesSync(D,B.header.time,B.header.time)}catch(H){K(L("Unable to create folder",D))}}S.reverse().reduce(function(B,D){return function(U){if(U)B(U);else{let H=y.normalize(G(D.entryName)),E=Q(Z,H);D.getDataAsync(function(C,O){if(O)B(O);else if(!C)B(_.Errors.CANT_EXTRACT_FILE());else{let t=W?D.header.fileAttr:void 0;T.writeFileToAsync(E,C,I,t,function(r){if(!r)B(L("Unable to write file",E));T.fs.utimes(E,D.header.time,D.header.time,function(A0){if(A0)B(L("Unable to set times",E));else B()})})}})}}},K)()},writeZip:function(Z,I){if(arguments.length===1){if(typeof Z==="function")I=Z,Z=""}if(!Z&&R.filename)Z=R.filename;if(!Z)return;var W=M.compressToBuffer();if(W){var K=T.writeFileTo(Z,W,!0);if(typeof I==="function")I(!K?new Error("failed"):null,"")}},writeZipPromise:function(Z,I){let{overwrite:W,perm:K}=Object.assign({overwrite:!0},I);return new Promise((V,L)=>{if(!Z&&R.filename)Z=R.filename;if(!Z)L("ADM-ZIP: ZIP File Name Missing");this.toBufferPromise().then((J)=>{let S=(B)=>B?V(B):L("ADM-ZIP: Wasn't able to write zip file");T.writeFileToAsync(Z,J,W,K,S)},L)})},toBufferPromise:function(){return new Promise((Z,I)=>{M.toAsyncBuffer(Z,I)})},toBuffer:function(Z,I,W,K){if(typeof Z==="function")return M.toAsyncBuffer(Z,I,W,K),null;return M.compressToBuffer()}}}});var z1=N((iG,W0)=>{var qT=typeof process!=="undefined"&&process.env.TERM_PROGRAM==="Hyper",wT=typeof process!=="undefined"&&process.platform==="win32",F1=typeof process!=="undefined"&&process.platform==="linux",a0={ballotDisabled:"",ballotOff:"",ballotOn:"",bullet:"",bulletWhite:"",fullBlock:"",heart:"",identicalTo:"",line:"",mark:"",middot:"",minus:"",multiplication:"",obelus:"",pencilDownRight:"",pencilRight:"",pencilUpRight:"",percent:"%",pilcrow2:"",pilcrow:"",plusMinus:"",question:"?",section:"",starsOff:"",starsOn:"",upDownArrow:""},U1=Object.assign({},a0,{check:"",cross:"",ellipsisLarge:"...",ellipsis:"...",info:"i",questionSmall:"?",pointer:">",pointerSmall:"",radioOff:"( )",radioOn:"(*)",warning:""}),N1=Object.assign({},a0,{ballotCross:"",check:"",cross:"",ellipsisLarge:"",ellipsis:"",info:"",questionFull:"",questionSmall:"",pointer:F1?"":"",pointerSmall:F1?"":"",radioOff:"",radioOn:"",warning:""});W0.exports=wT&&!qT?U1:N1;Reflect.defineProperty(W0.exports,"common",{enumerable:!1,value:a0});Reflect.defineProperty(W0.exports,"windows",{enumerable:!1,value:U1});Reflect.defineProperty(W0.exports,"other",{enumerable:!1,value:N1})});var E0=N((dG,e0)=>{var RT=($)=>$!==null&&typeof $==="object"&&!Array.isArray($),TT=/[\u001b\u009b][[\]#;?()]*(?:(?:(?:[^\W_]*;?[^\W_]*)\u0007)|(?:(?:[0-9]{1,4}(;[0-9]{0,4})*)?[~0-9=<>cf-nqrtyA-PRZ]))/g,MT=()=>{if(typeof process!=="undefined")return process.env.FORCE_COLOR!=="0";return!1},H1=()=>{let $={enabled:MT(),visible:!0,styles:{},keys:{}},q=(M)=>{let G=M.open=`\x1B[${M.codes[0]}m`,Q=M.close=`\x1B[${M.codes[1]}m`,Y=M.regex=new RegExp(`\\u001b\\[${M.codes[1]}m`,"g");return M.wrap=(X,A)=>{if(X.includes(Q))X=X.replace(Y,Q+G);let j=G+X+Q;return A?j.replace(/\r*\n/g,`${Q}$&${G}`):j},M},w=(M,G,Q)=>{return typeof M==="function"?M(G):M.wrap(G,Q)},R=(M,G)=>{if(M===""||M==null)return"";if($.enabled===!1)return M;if($.visible===!1)return"";let Q=""+M,Y=Q.includes(`
`),X=G.length;if(X>0&&G.includes("unstyle"))G=[...new Set(["unstyle",...G])].reverse();while(X-- >0)Q=w($.styles[G[X]],Q,Y);return Q},T=(M,G,Q)=>{$.styles[M]=q({name:M,codes:G}),($.keys[Q]||($.keys[Q]=[])).push(M),Reflect.defineProperty($,M,{configurable:!0,enumerable:!0,set(X){$.alias(M,X)},get(){let X=(A)=>R(A,X.stack);return Reflect.setPrototypeOf(X,$),X.stack=this.stack?this.stack.concat(M):[M],X}})};return T("reset",[0,0],"modifier"),T("bold",[1,22],"modifier"),T("dim",[2,22],"modifier"),T("italic",[3,23],"modifier"),T("underline",[4,24],"modifier"),T("inverse",[7,27],"modifier"),T("hidden",[8,28],"modifier"),T("strikethrough",[9,29],"modifier"),T("black",[30,39],"color"),T("red",[31,39],"color"),T("green",[32,39],"color"),T("yellow",[33,39],"color"),T("blue",[34,39],"color"),T("magenta",[35,39],"color"),T("cyan",[36,39],"color"),T("white",[37,39],"color"),T("gray",[90,39],"color"),T("grey",[90,39],"color"),T("bgBlack",[40,49],"bg"),T("bgRed",[41,49],"bg"),T("bgGreen",[42,49],"bg"),T("bgYellow",[43,49],"bg"),T("bgBlue",[44,49],"bg"),T("bgMagenta",[45,49],"bg"),T("bgCyan",[46,49],"bg"),T("bgWhite",[47,49],"bg"),T("blackBright",[90,39],"bright"),T("redBright",[91,39],"bright"),T("greenBright",[92,39],"bright"),T("yellowBright",[93,39],"bright"),T("blueBright",[94,39],"bright"),T("magentaBright",[95,39],"bright"),T("cyanBright",[96,39],"bright"),T("whiteBright",[97,39],"bright"),T("bgBlackBright",[100,49],"bgBright"),T("bgRedBright",[101,49],"bgBright"),T("bgGreenBright",[102,49],"bgBright"),T("bgYellowBright",[103,49],"bgBright"),T("bgBlueBright",[104,49],"bgBright"),T("bgMagentaBright",[105,49],"bgBright"),T("bgCyanBright",[106,49],"bgBright"),T("bgWhiteBright",[107,49],"bgBright"),$.ansiRegex=TT,$.hasColor=$.hasAnsi=(M)=>{return $.ansiRegex.lastIndex=0,typeof M==="string"&&M!==""&&$.ansiRegex.test(M)},$.alias=(M,G)=>{let Q=typeof G==="string"?$[G]:G;if(typeof Q!=="function")throw new TypeError("Expected alias to be the name of an existing color (string) or a function");if(!Q.stack)Reflect.defineProperty(Q,"name",{value:M}),$.styles[M]=Q,Q.stack=[M];Reflect.defineProperty($,M,{configurable:!0,enumerable:!0,set(Y){$.alias(M,Y)},get(){let Y=(X)=>R(X,Y.stack);return Reflect.setPrototypeOf(Y,$),Y.stack=this.stack?this.stack.concat(Q.stack):Q.stack,Y}})},$.theme=(M)=>{if(!RT(M))throw new TypeError("Expected theme to be an object");for(let G of Object.keys(M))$.alias(G,M[G]);return $},$.alias("unstyle",(M)=>{if(typeof M==="string"&&M!=="")return $.ansiRegex.lastIndex=0,M.replace($.ansiRegex,"");return""}),$.alias("noop",(M)=>M),$.none=$.clear=$.noop,$.stripColor=$.unstyle,$.symbols=z1(),$.define=T,$};e0.exports=H1();e0.exports.create=H1});var m=N((JT)=>{var GT=Object.prototype.toString,p=E0(),E1=!1,K0=new Set,P1={yellow:"blue",cyan:"red",green:"magenta",black:"white",blue:"yellow",red:"cyan",magenta:"green",white:"black"};JT.longest=($,q)=>{return $.reduce((w,R)=>Math.max(w,q?R[q].length:R.length),0)};JT.hasColor=($)=>!!$&&p.hasColor($);var P0=JT.isObject=($)=>{return $!==null&&typeof $==="object"&&!Array.isArray($)};JT.nativeType=($)=>{return GT.call($).slice(8,-1).toLowerCase().replace(/\s/g,"")};JT.isAsyncFn=($)=>{return JT.nativeType($)==="asyncfunction"};JT.isPrimitive=($)=>{return $!=null&&typeof $!=="object"&&typeof $!=="function"};JT.resolve=($,q,...w)=>{if(typeof q==="function")return q.call($,...w);return q};JT.scrollDown=($=[])=>[...$.slice(1),$[0]];JT.scrollUp=($=[])=>[$.pop(),...$];JT.reorder=($=[])=>{let q=$.slice();return q.sort((w,R)=>{if(w.index>R.index)return 1;if(w.index<R.index)return-1;return 0}),q};JT.swap=($,q,w)=>{let R=$.length,T=w===R?0:w<0?R-1:w,M=$[q];$[q]=$[T],$[T]=M};JT.width=($,q=80)=>{let w=$&&$.columns?$.columns:q;if($&&typeof $.getWindowSize==="function")w=$.getWindowSize()[0];if(process.platform==="win32")return w-1;return w};JT.height=($,q=20)=>{let w=$&&$.rows?$.rows:q;if($&&typeof $.getWindowSize==="function")w=$.getWindowSize()[1];return w};JT.wordWrap=($,q={})=>{if(!$)return $;if(typeof q==="number")q={width:q};let{indent:w="",newline:R=`
`+w,width:T=80}=q,M=(R+w).match(/[^\S\n]/g)||[];T-=M.length;let G=`.{1,${T}}([\\s\\u200B]+|$)|[^\\s\\u200B]+?([\\s\\u200B]+|$)`,Q=$.trim(),Y=new RegExp(G,"g"),X=Q.match(Y)||[];if(X=X.map((A)=>A.replace(/\n$/,"")),q.padEnd)X=X.map((A)=>A.padEnd(T," "));if(q.padStart)X=X.map((A)=>A.padStart(T," "));return w+X.join(R)};JT.unmute=($)=>{let q=$.stack.find((R)=>p.keys.color.includes(R));if(q)return p[q];if($.stack.find((R)=>R.slice(2)==="bg"))return p[q.slice(2)];return(R)=>R};JT.pascal=($)=>$?$[0].toUpperCase()+$.slice(1):"";JT.inverse=($)=>{if(!$||!$.stack)return $;let q=$.stack.find((R)=>p.keys.color.includes(R));if(q){let R=p["bg"+JT.pascal(q)];return R?R.black:$}let w=$.stack.find((R)=>R.slice(0,2)==="bg");if(w)return p[w.slice(2).toLowerCase()]||$;return p.none};JT.complement=($)=>{if(!$||!$.stack)return $;let q=$.stack.find((R)=>p.keys.color.includes(R)),w=$.stack.find((R)=>R.slice(0,2)==="bg");if(q&&!w)return p[P1[q]||q];if(w){let R=w.slice(2).toLowerCase(),T=P1[R];if(!T)return $;return p["bg"+JT.pascal(T)]||$}return p.none};JT.meridiem=($)=>{let q=$.getHours(),w=$.getMinutes(),R=q>=12?"pm":"am";q=q%12;let T=q===0?12:q,M=w<10?"0"+w:w;return T+":"+M+" "+R};JT.set=($={},q="",w)=>{return q.split(".").reduce((R,T,M,G)=>{let Q=G.length-1>M?R[T]||{}:w;if(!JT.isObject(Q)&&M<G.length-1)Q={};return R[T]=Q},$)};JT.get=($={},q="",w)=>{let R=$[q]==null?q.split(".").reduce((T,M)=>T&&T[M],$):$[q];return R==null?w:R};JT.mixin=($,q)=>{if(!P0($))return q;if(!P0(q))return $;for(let w of Object.keys(q)){let R=Object.getOwnPropertyDescriptor(q,w);if(hasOwnProperty.call(R,"value"))if(hasOwnProperty.call($,w)&&P0(R.value)){let T=Object.getOwnPropertyDescriptor($,w);if(P0(T.value)&&T.value!==R.value)$[w]=JT.merge({},$[w],q[w]);else Reflect.defineProperty($,w,R)}else Reflect.defineProperty($,w,R);else Reflect.defineProperty($,w,R)}return $};JT.merge=(...$)=>{let q={};for(let w of $)JT.mixin(q,w);return q};JT.mixinEmitter=($,q)=>{let w=q.constructor.prototype;for(let R of Object.keys(w)){let T=w[R];if(typeof T==="function")JT.define($,R,T.bind(q));else JT.define($,R,T)}};var h0=($,q)=>{if(E1)return;if(E1=!0,K0.forEach((w)=>w()),$===!0)process.exit(128+q)},h1=h0.bind(null,!0,15),O1=h0.bind(null,!0,2);JT.onExit=($)=>{if(K0.size===0)process.once("SIGTERM",h1),process.once("SIGINT",O1),process.once("exit",h0);return K0.add($),()=>{if(K0.delete($),K0.size===0)process.off("SIGTERM",h1),process.off("SIGINT",O1),process.off("exit",h0)}};JT.define=($,q,w)=>{Reflect.defineProperty($,q,{value:w})};JT.defineExport=($,q,w)=>{let R;Reflect.defineProperty($,q,{enumerable:!0,configurable:!0,set(T){R=T},get(){return R?R():w()}})}});var b1=N((pG,u1)=>{u1.exports=({onlyFirst:$=!1}={})=>{let q=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(q,$?void 0:"g")}});var e=N((lG,y1)=>{var CT=b1();y1.exports=($)=>typeof $==="string"?$.replace(CT(),""):$});var f1=N((xT)=>{xT.ctrl={a:"first",b:"backward",c:"cancel",d:"deleteForward",e:"last",f:"forward",g:"reset",i:"tab",k:"cutForward",l:"reset",n:"newItem",m:"cancel",j:"submit",p:"search",r:"remove",s:"save",u:"undo",w:"cutLeft",x:"toggleCursor",v:"paste"};xT.shift={up:"shiftUp",down:"shiftDown",left:"shiftLeft",right:"shiftRight",tab:"prev"};xT.fn={up:"pageUp",down:"pageDown",left:"pageLeft",right:"pageRight",delete:"deleteForward"};xT.option={b:"backward",f:"forward",d:"cutRight",left:"cutLeft",up:"altUp",down:"altDown"};xT.keys={pageup:"pageUp",pagedown:"pageDown",home:"home",end:"end",cancel:"cancel",delete:"deleteForward",backspace:"delete",down:"down",enter:"submit",escape:"cancel",left:"left",space:"space",number:"number",return:"submit",right:"right",tab:"next",up:"up"}});var v1=N((tG,g1)=>{g1.exports=class ${_queue=[];_executing=!1;_jobRunner=null;constructor(q){this._jobRunner=q}enqueue=(...q)=>{this._queue.push(q),this._dequeue()};destroy(){this._queue.length=0,this._jobRunner=null}_dequeue(){if(this._executing||!this._queue.length)return;this._executing=!0,this._jobRunner(...this._queue.shift()),setTimeout(()=>{this._executing=!1,this._dequeue()})}}});var q$=N((nG,s1)=>{var k1=s("readline"),gT=f1(),vT=v1(),kT=/^(?:\x1b)([a-zA-Z0-9])$/,sT=/^(?:\x1b+)(O|N|\[|\[\[)(?:(\d+)(?:;(\d+))?([~^$])|(?:1;)?(\d+)?([a-zA-Z]))/,mT={OP:"f1",OQ:"f2",OR:"f3",OS:"f4","[11~":"f1","[12~":"f2","[13~":"f3","[14~":"f4","[[A":"f1","[[B":"f2","[[C":"f3","[[D":"f4","[[E":"f5","[15~":"f5","[17~":"f6","[18~":"f7","[19~":"f8","[20~":"f9","[21~":"f10","[23~":"f11","[24~":"f12","[A":"up","[B":"down","[C":"right","[D":"left","[E":"clear","[F":"end","[H":"home",OA:"up",OB:"down",OC:"right",OD:"left",OE:"clear",OF:"end",OH:"home","[1~":"home","[2~":"insert","[3~":"delete","[4~":"end","[5~":"pageup","[6~":"pagedown","[[5~":"pageup","[[6~":"pagedown","[7~":"home","[8~":"end","[a":"up","[b":"down","[c":"right","[d":"left","[e":"clear","[2$":"insert","[3$":"delete","[5$":"pageup","[6$":"pagedown","[7$":"home","[8$":"end",Oa:"up",Ob:"down",Oc:"right",Od:"left",Oe:"clear","[2^":"insert","[3^":"delete","[5^":"pageup","[6^":"pagedown","[7^":"home","[8^":"end","[Z":"tab"};function iT($){return["[a","[b","[c","[d","[e","[2$","[3$","[5$","[6$","[7$","[8$","[Z"].includes($)}function dT($){return["Oa","Ob","Oc","Od","Oe","[2^","[3^","[5^","[6^","[7^","[8^"].includes($)}var O0=($="",q={})=>{let w,R={name:q.name,ctrl:!1,meta:!1,shift:!1,option:!1,sequence:$,raw:$,...q};if(Buffer.isBuffer($))if($[0]>127&&$[1]===void 0)$[0]-=128,$="\x1B"+String($);else $=String($);else if($!==void 0&&typeof $!=="string")$=String($);else if(!$)$=R.sequence||"";if(R.sequence=R.sequence||$||R.name,$==="\r")R.raw=void 0,R.name="return";else if($===`
`)R.name="enter";else if($==="\t")R.name="tab";else if($==="\b"||$===""||$==="\x1B"||$==="\x1B\b")R.name="backspace",R.meta=$.charAt(0)==="\x1B";else if($==="\x1B"||$==="\x1B\x1B")R.name="escape",R.meta=$.length===2;else if($===" "||$==="\x1B ")R.name="space",R.meta=$.length===2;else if($<="\x1A")R.name=String.fromCharCode($.charCodeAt(0)+97-1),R.ctrl=!0;else if($.length===1&&$>="0"&&$<="9")R.name="number";else if($.length===1&&$>="a"&&$<="z")R.name=$;else if($.length===1&&$>="A"&&$<="Z")R.name=$.toLowerCase(),R.shift=!0;else if(w=kT.exec($))R.meta=!0,R.shift=/^[A-Z]$/.test(w[1]);else if(w=sT.exec($)){let T=[...$];if(T[0]==="\x1B"&&T[1]==="\x1B")R.option=!0;let M=[w[1],w[2],w[4],w[6]].filter(Boolean).join(""),G=(w[3]||w[5]||1)-1;R.ctrl=!!(G&4),R.meta=!!(G&10),R.shift=!!(G&1),R.code=M,R.name=mT[M],R.shift=iT(M)||R.shift,R.ctrl=dT(M)||R.ctrl}return R};O0.listen=($={},q)=>{let{stdin:w}=$;if(!w||w!==process.stdin&&!w.isTTY)throw new Error("Invalid stream passed");let R=k1.createInterface({terminal:!0,input:w});k1.emitKeypressEvents(w,R);let T=new vT((Q,Y)=>q(Q,O0(Q,Y),R)),M=w.isRaw;if(w.isTTY)w.setRawMode(!0);return w.on("keypress",T.enqueue),R.resume(),()=>{if(w.isTTY)w.setRawMode(M);w.removeListener("keypress",T.enqueue),T.destroy(),R.pause(),R.close()}};O0.action=($,q,w)=>{let R={...gT,...w};if(q.ctrl)return q.action=R.ctrl[q.name],q;if(q.option&&R.option)return q.action=R.option[q.name],q;if(q.shift)return q.action=R.shift[q.name],q;return q.action=R.keys[q.name],q};s1.exports=O0});var i1=N((oG,m1)=>{m1.exports=($)=>{$.timers=$.timers||{};let q=$.options.timers;if(!q)return;for(let w of Object.keys(q)){let R=q[w];if(typeof R==="number")R={interval:R};rT($,w,R)}};function rT($,q,w={}){let R=$.timers[q]={name:q,start:Date.now(),ms:0,tick:0},T=w.interval||120;R.frames=w.frames||[],R.loading=!0;let M=setInterval(()=>{R.ms=Date.now()-R.start,R.tick++,$.render()},T);return R.stop=()=>{R.loading=!1,clearInterval(M)},Reflect.defineProperty(R,"interval",{value:M}),$.once("close",()=>R.stop()),R.stop}});var p1=N((aG,r1)=>{var{define:pT,width:lT}=m();class d1{constructor($){let q=$.options;pT(this,"_prompt",$),this.type=$.type,this.name=$.name,this.message="",this.header="",this.footer="",this.error="",this.hint="",this.input="",this.cursor=0,this.index=0,this.lines=0,this.tick=0,this.prompt="",this.buffer="",this.width=lT(q.stdout||process.stdout),Object.assign(this,q),this.name=this.name||this.message,this.message=this.message||this.name,this.symbols=$.symbols,this.styles=$.styles,this.required=new Set,this.cancelled=!1,this.submitted=!1}clone(){let $={...this};return $.status=this.status,$.buffer=Buffer.from($.buffer),delete $.clone,$}set color($){this._color=$}get color(){let $=this.prompt.styles;if(this.cancelled)return $.cancelled;if(this.submitted)return $.submitted;let q=this._color||$[this.status];return typeof q==="function"?q:$.pending}set loading($){this._loading=$}get loading(){if(typeof this._loading==="boolean")return this._loading;if(this.loadingChoices)return"choices";return!1}get status(){if(this.cancelled)return"cancelled";if(this.submitted)return"submitted";return"pending"}}r1.exports=d1});var c1=N((eG,l1)=>{var w$=m(),k=E0(),R$={default:k.noop,noop:k.noop,set inverse($){this._inverse=$},get inverse(){return this._inverse||w$.inverse(this.primary)},set complement($){this._complement=$},get complement(){return this._complement||w$.complement(this.primary)},primary:k.cyan,success:k.green,danger:k.magenta,strong:k.bold,warning:k.yellow,muted:k.dim,disabled:k.gray,dark:k.dim.gray,underline:k.underline,set info($){this._info=$},get info(){return this._info||this.primary},set em($){this._em=$},get em(){return this._em||this.primary.underline},set heading($){this._heading=$},get heading(){return this._heading||this.muted.underline},set pending($){this._pending=$},get pending(){return this._pending||this.primary},set submitted($){this._submitted=$},get submitted(){return this._submitted||this.success},set cancelled($){this._cancelled=$},get cancelled(){return this._cancelled||this.danger},set typing($){this._typing=$},get typing(){return this._typing||this.dim},set placeholder($){this._placeholder=$},get placeholder(){return this._placeholder||this.primary.dim},set highlight($){this._highlight=$},get highlight(){return this._highlight||this.inverse}};R$.merge=($={})=>{if($.styles&&typeof $.styles.enabled==="boolean")k.enabled=$.styles.enabled;if($.styles&&typeof $.styles.visible==="boolean")k.visible=$.styles.visible;let q=w$.merge({},R$,$.styles);delete q.merge;for(let w of Object.keys(k))if(!hasOwnProperty.call(q,w))Reflect.defineProperty(q,w,{get:()=>k[w]});for(let w of Object.keys(k.styles))if(!hasOwnProperty.call(q,w))Reflect.defineProperty(q,w,{get:()=>k[w]});return q};l1.exports=R$});var n1=N(($2,t1)=>{var T$=process.platform==="win32",o=E0(),cT=m(),M$={...o.symbols,upDownDoubleArrow:"",upDownDoubleArrow2:"",upDownArrow:"",asterisk:"*",asterism:"",bulletWhite:"",electricArrow:"",ellipsisLarge:"",ellipsisSmall:"",fullBlock:"",identicalTo:"",indicator:o.symbols.check,leftAngle:"",mark:"",minus:"",multiplication:"",obelus:"",percent:"%",pilcrow:"",pilcrow2:"",pencilUpRight:"",pencilDownRight:"",pencilRight:"",plus:"+",plusMinus:"",pointRight:"",rightAngle:"",section:"",hexagon:{off:"",on:"",disabled:""},ballot:{on:"",off:"",disabled:""},stars:{on:"",off:"",disabled:""},folder:{on:"",off:"",disabled:""},prefix:{pending:o.symbols.question,submitted:o.symbols.check,cancelled:o.symbols.cross},separator:{pending:o.symbols.pointerSmall,submitted:o.symbols.middot,cancelled:o.symbols.middot},radio:{off:T$?"( )":"",on:T$?"(*)":"",disabled:T$?"(|)":""},numbers:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]};M$.merge=($)=>{let q=cT.merge({},o.symbols,M$,$.symbols);return delete q.merge,q};t1.exports=M$});var a1=N((q2,o1)=>{var tT=c1(),nT=n1(),oT=m();o1.exports=($)=>{$.options=oT.merge({},$.options.theme,$.options),$.symbols=nT.merge($.options),$.styles=tT.merge($.options)}});var wq=N(($q,qq)=>{var e1=process.env.TERM_PROGRAM==="Apple_Terminal",aT=e(),G$=m(),l=qq.exports=$q,J$=!1,$0=l.code={bell:"\x07",beep:"\x07",beginning:"\x1B[G",down:"\x1B[J",esc:"\x1B[",getPosition:"\x1B[6n",hide:"\x1B[?25l",line:"\x1B[2K",lineEnd:"\x1B[K",lineStart:"\x1B[1K",restorePosition:"\x1B["+(e1?"8":"u"),savePosition:"\x1B["+(e1?"7":"s"),screen:"\x1B[2J",show:"\x1B[?25h",up:"\x1B[1J"},T0=l.cursor={get hidden(){return J$},hide(){return J$=!0,$0.hide},show(){return J$=!1,$0.show},forward:($=1)=>`\x1B[${$}C`,backward:($=1)=>`\x1B[${$}D`,nextLine:($=1)=>"\x1B[E".repeat($),prevLine:($=1)=>"\x1B[F".repeat($),up:($=1)=>$?`\x1B[${$}A`:"",down:($=1)=>$?`\x1B[${$}B`:"",right:($=1)=>$?`\x1B[${$}C`:"",left:($=1)=>$?`\x1B[${$}D`:"",to($,q){return q?`\x1B[${q+1};${$+1}H`:`\x1B[${$+1}G`},move($=0,q=0){let w="";return w+=$<0?T0.left(-$):$>0?T0.right($):"",w+=q<0?T0.up(-q):q>0?T0.down(q):"",w},strLen($){var q=0,w=$.length,R=-1;for(var T=0;T<w;T++)if(R=$.charCodeAt(T),R>=0&&R<=128)q+=1;else q+=2;return q},restore($={}){let{after:q,cursor:w,initial:R,input:T,prompt:M,size:G,value:Q}=$;if(R=G$.isPrimitive(R)?String(R):"",T=G$.isPrimitive(T)?String(T):"",Q=G$.isPrimitive(Q)?String(Q):"",G){let Y=l.cursor.up(G)+l.cursor.to(this.strLen(M)),X=T.length-w;if(X>0)Y+=l.cursor.left(X);return Y}if(Q||q){let Y=!T&&!!R?-this.strLen(R):-this.strLen(T)+w;if(q)Y-=this.strLen(q);if(T===""&&R&&!M.includes(R))Y+=this.strLen(R);return l.cursor.move(Y)}}},Q$=l.erase={screen:$0.screen,up:$0.up,down:$0.down,line:$0.line,lineEnd:$0.lineEnd,lineStart:$0.lineStart,lines($){let q="";for(let w=0;w<$;w++)q+=l.erase.line+(w<$-1?l.cursor.up(1):"");if($)q+=l.code.beginning;return q}};l.clear=($="",q=process.stdout.columns)=>{if(!q)return Q$.line+T0.to(0);let w=(M)=>[...aT(M)].length,R=$.split(/\r?\n/),T=0;for(let M of R)T+=1+Math.floor(Math.max(w(M)-1,0)/q);return(Q$.line+T0.prevLine()).repeat(T-1)+Q$.line+T0.to(0)}});var Z0=N((w2,Tq)=>{var eT=s("events"),Rq=e(),Y$=q$(),$M=i1(),qM=p1(),wM=a1(),d=m(),M0=wq();class X$ extends eT{constructor($={}){super();this.name=$.name,this.type=$.type,this.options=$,wM(this),$M(this),this.state=new qM(this),this.initial=[$.initial,$.default].find((q)=>q!=null),this.stdout=$.stdout||process.stdout,this.stdin=$.stdin||process.stdin,this.scale=$.scale||1,this.term=this.options.term||process.env.TERM_PROGRAM,this.margin=TM(this.options.margin),this.setMaxListeners(0),RM(this)}async keypress($,q={}){this.keypressed=!0;let w=Y$.action($,Y$($,q),this.options.actions);this.state.keypress=w,this.emit("keypress",$,w),this.emit("state",this.state.clone());let R=this.options[w.action]||this[w.action]||this.dispatch;if(typeof R==="function")return await R.call(this,$,w);this.alert()}alert(){if(delete this.state.alert,this.options.show===!1)this.emit("alert");else this.stdout.write(M0.code.beep)}cursorHide(){this.stdout.write(M0.cursor.hide());let $=d.onExit(()=>this.cursorShow());this.on("close",()=>{this.cursorShow(),$()})}cursorShow(){this.stdout.write(M0.cursor.show())}write($){if(!$)return;if(this.stdout&&this.state.show!==!1)this.stdout.write($);this.state.buffer+=$}clear($=0){let q=this.state.buffer;if(this.state.buffer="",!q&&!$||this.options.show===!1)return;this.stdout.write(M0.cursor.down($)+M0.clear(q,this.width))}restore(){if(this.state.closed||this.options.show===!1)return;let{prompt:$,after:q,rest:w}=this.sections(),{cursor:R,initial:T="",input:M="",value:G=""}=this,Q=this.state.size=w.length,Y={after:q,cursor:R,initial:T,input:M,prompt:$,size:Q,value:G},X=M0.cursor.restore(Y);if(X)this.stdout.write(X)}sections(){let{buffer:$,input:q,prompt:w}=this.state;w=Rq(w);let R=Rq($),T=R.indexOf(w),M=R.slice(0,T),Q=R.slice(T).split(`
`),Y=Q[0],X=Q[Q.length-1],j=(w+(q?" "+q:"")).length,z=j<Y.length?Y.slice(j+1):"";return{header:M,prompt:Y,after:z,rest:Q.slice(1),last:X}}async submit(){if(this.state.submitted=!0,this.state.validating=!0,this.options.onSubmit)await this.options.onSubmit.call(this,this.name,this.value,this);let $=this.state.error||await this.validate(this.value,this.state);if($!==!0){let q=`
`+this.symbols.pointer+" ";if(typeof $==="string")q+=$.trim();else q+="Invalid input";this.state.error=`
`+this.styles.danger(q),this.state.submitted=!1,await this.render(),await this.alert(),this.state.validating=!1,this.state.error=void 0;return}this.state.validating=!1,await this.render(),await this.close(),this.value=await this.result(this.value),this.emit("submit",this.value)}async cancel($){if(this.state.cancelled=this.state.submitted=!0,await this.render(),await this.close(),typeof this.options.onCancel==="function")await this.options.onCancel.call(this,this.name,this.value,this);this.emit("cancel",await this.error($))}async close(){this.state.closed=!0;try{let $=this.sections(),q=Math.ceil($.prompt.length/this.width);if($.rest)this.write(M0.cursor.down($.rest.length));this.write(`
`.repeat(q))}catch($){}this.emit("close")}start(){if(!this.stop&&this.options.show!==!1)this.stop=Y$.listen(this,this.keypress.bind(this)),this.once("close",this.stop),this.emit("start",this)}async skip(){if(this.skipped=this.options.skip===!0,typeof this.options.skip==="function")this.skipped=await this.options.skip.call(this,this.name,this.value);return this.skipped}async initialize(){let{format:$,options:q,result:w}=this;if(this.format=()=>$.call(this,this.value),this.result=()=>w.call(this,this.value),typeof q.initial==="function")this.initial=await q.initial.call(this,this);if(typeof q.onRun==="function")await q.onRun.call(this,this);if(typeof q.onSubmit==="function"){let R=q.onSubmit.bind(this),T=this.submit.bind(this);delete this.options.onSubmit,this.submit=async()=>{return await R(this.name,this.value,this),T()}}await this.start(),await this.render()}render(){throw new Error("expected prompt to have a custom render method")}run(){return new Promise(async($,q)=>{if(this.once("submit",$),this.once("cancel",q),await this.skip())return this.render=()=>{},this.submit();await this.initialize(),this.emit("run")})}async element($,q,w){let{options:R,state:T,symbols:M,timers:G}=this,Q=G&&G[$];T.timer=Q;let Y=R[$]||T[$]||M[$],X=q&&q[$]!=null?q[$]:await Y;if(X==="")return X;let A=await this.resolve(X,T,q,w);if(!A&&q&&q[$])return this.resolve(Y,T,q,w);return A}async prefix(){let $=await this.element("prefix")||this.symbols,q=this.timers&&this.timers.prefix,w=this.state;if(w.timer=q,d.isObject($))$=$[w.status]||$.pending;if(!d.hasColor($))return(this.styles[w.status]||this.styles.pending)($);return $}async message(){let $=await this.element("message");if(!d.hasColor($))return this.styles.strong($);return $}async separator(){let $=await this.element("separator")||this.symbols,q=this.timers&&this.timers.separator,w=this.state;w.timer=q;let R=$[w.status]||$.pending||w.separator,T=await this.resolve(R,w);if(d.isObject(T))T=T[w.status]||T.pending;if(!d.hasColor(T))return this.styles.muted(T);return T}async pointer($,q){let w=await this.element("pointer",$,q);if(typeof w==="string"&&d.hasColor(w))return w;if(w){let R=this.styles,T=this.index===q,M=T?R.primary:(Y)=>Y,G=await this.resolve(w[T?"on":"off"]||w,this.state),Q=!d.hasColor(G)?M(G):G;return T?Q:" ".repeat(G.length)}}async indicator($,q){let w=await this.element("indicator",$,q);if(typeof w==="string"&&d.hasColor(w))return w;if(w){let R=this.styles,T=$.enabled===!0,M=T?R.success:R.dark,G=w[T?"on":"off"]||w;return!d.hasColor(G)?M(G):G}return""}body(){return null}footer(){if(this.state.status==="pending")return this.element("footer")}header(){if(this.state.status==="pending")return this.element("header")}async hint(){if(this.state.status==="pending"&&!this.isValue(this.state.input)){let $=await this.element("hint");if(!d.hasColor($))return this.styles.muted($);return $}}error($){return!this.state.submitted?$||this.state.error:""}format($){return $}result($){return $}validate($){if(this.options.required===!0)return this.isValue($);return!0}isValue($){return $!=null&&$!==""}resolve($,...q){return d.resolve(this,$,...q)}get base(){return X$.prototype}get style(){return this.styles[this.state.status]}get height(){return this.options.rows||d.height(this.stdout,25)}get width(){return this.options.columns||d.width(this.stdout,80)}get size(){return{width:this.width,height:this.height}}set cursor($){this.state.cursor=$}get cursor(){return this.state.cursor}set input($){this.state.input=$}get input(){return this.state.input}set value($){this.state.value=$}get value(){let{input:$,value:q}=this.state,w=[q,$].find(this.isValue.bind(this));return this.isValue(w)?w:this.initial}static get prompt(){return($)=>new this($).run()}}function RM($){let q=(T)=>{return $[T]===void 0||typeof $[T]==="function"},w=["actions","choices","initial","margin","roles","styles","symbols","theme","timers","value"],R=["body","footer","error","header","hint","indicator","message","prefix","separator","skip"];for(let T of Object.keys($.options)){if(w.includes(T))continue;if(/^on[A-Z]/.test(T))continue;let M=$.options[T];if(typeof M==="function"&&q(T)){if(!R.includes(T))$[T]=M.bind($)}else if(typeof $[T]!=="function")$[T]=M}}function TM($){if(typeof $==="number")$=[$,$,$,$];let q=[].concat($||[]),w=(T)=>T%2===0?`
`:" ",R=[];for(let T=0;T<4;T++){let M=w(T);if(q[T])R.push(M.repeat(q[T]));else R.push("")}return R}Tq.exports=X$});var Jq=N((R2,Gq)=>{var MM=m(),Mq={default($,q){return q},checkbox($,q){throw new Error("checkbox role is not implemented yet")},editable($,q){throw new Error("editable role is not implemented yet")},expandable($,q){throw new Error("expandable role is not implemented yet")},heading($,q){return q.disabled="",q.indicator=[q.indicator," "].find((w)=>w!=null),q.message=q.message||"",q},input($,q){throw new Error("input role is not implemented yet")},option($,q){return Mq.default($,q)},radio($,q){throw new Error("radio role is not implemented yet")},separator($,q){return q.disabled="",q.indicator=[q.indicator," "].find((w)=>w!=null),q.message=q.message||$.symbols.line.repeat(5),q},spacer($,q){return q}};Gq.exports=($,q={})=>{let w=MM.merge({},Mq,q.roles);return w[$]||w.default}});var B0=N((T2,Zq)=>{var GM=e(),JM=Z0(),QM=Jq(),C0=m(),{reorder:Z$,scrollUp:YM,scrollDown:XM,isObject:Qq,swap:ZM}=C0;class Xq extends JM{constructor($){super($);this.cursorHide(),this.maxSelected=$.maxSelected||1/0,this.multiple=$.multiple||!1,this.initial=$.initial||0,this.delay=$.delay||0,this.longest=0,this.num=""}async initialize(){if(typeof this.options.initial==="function")this.initial=await this.options.initial.call(this);await this.reset(!0),await super.initialize()}async reset(){let{choices:$,initial:q,autofocus:w,suggest:R}=this.options;if(this.state._choices=[],this.state.choices=[],this.choices=await Promise.all(await this.toChoices($)),this.choices.forEach((T)=>T.enabled=!1),typeof R!=="function"&&this.selectable.length===0)throw new Error("At least one choice must be selectable");if(Qq(q))q=Object.keys(q);if(Array.isArray(q)){if(w!=null)this.index=this.findIndex(w);q.forEach((T)=>this.enable(this.find(T))),await this.render()}else{if(w!=null)q=w;if(typeof q==="string")q=this.findIndex(q);if(typeof q==="number"&&q>-1)this.index=Math.max(0,Math.min(q,this.choices.length)),this.enable(this.find(this.index))}if(this.isDisabled(this.focused))await this.down()}async toChoices($,q){this.state.loadingChoices=!0;let w=[],R=0,T=async(M,G)=>{if(typeof M==="function")M=await M.call(this);if(M instanceof Promise)M=await M;for(let Q=0;Q<M.length;Q++){let Y=M[Q]=await this.toChoice(M[Q],R++,G);if(w.push(Y),Y.choices)await T(Y.choices,Y)}return w};return T($,q).then((M)=>{return this.state.loadingChoices=!1,M})}async toChoice($,q,w){if(typeof $==="function")$=await $.call(this,this);if($ instanceof Promise)$=await $;if(typeof $==="string")$={name:$};if($.normalized)return $;$.normalized=!0;let R=$.value;if($=QM($.role,this.options)(this,$),typeof $.disabled==="string"&&!$.hint)$.hint=$.disabled,$.disabled=!0;if($.disabled===!0&&$.hint==null)$.hint="(disabled)";if($.index!=null)return $;if($.name=$.name||$.key||$.title||$.value||$.message,$.message=$.message||$.name||"",$.value=[$.value,$.name].find(this.isValue.bind(this)),$.input="",$.index=q,$.cursor=0,C0.define($,"parent",w),$.level=w?w.level+1:1,$.indent==null)$.indent=w?w.indent+"  ":$.indent||"";if($.path=w?w.path+"."+$.name:$.name,$.enabled=!!(this.multiple&&!this.isDisabled($)&&($.enabled||this.isSelected($))),!this.isDisabled($))this.longest=Math.max(this.longest,GM($.message).length);let M={...$};if($.reset=(G=M.input,Q=M.value)=>{for(let Y of Object.keys(M))$[Y]=M[Y];$.input=G,$.value=Q},R==null&&typeof $.initial==="function")$.input=await $.initial.call(this,this.state,$,q);return $}async onChoice($,q){if(this.emit("choice",$,q,this),typeof $.onChoice==="function")await $.onChoice.call(this,this.state,$,q)}async addChoice($,q,w){let R=await this.toChoice($,q,w);return this.choices.push(R),this.index=this.choices.length-1,this.limit=this.choices.length,R}async newItem($,q,w){let R={name:"New choice name?",editable:!0,newChoice:!0,...$},T=await this.addChoice(R,q,w);return T.updateChoice=()=>{delete T.newChoice,T.name=T.message=T.input,T.input="",T.cursor=0},this.render()}indent($){if($.indent==null)return $.level>1?"  ".repeat($.level-1):"";return $.indent}dispatch($,q){if(this.multiple&&this[q.name])return this[q.name]();this.alert()}focus($,q){if(typeof q!=="boolean")q=$.enabled;if(q&&!$.enabled&&this.selected.length>=this.maxSelected)return this.alert();return this.index=$.index,$.enabled=q&&!this.isDisabled($),$}space(){if(!this.multiple)return this.alert();if(!this.focused)return;return this.toggle(this.focused),this.render()}a(){if(this.maxSelected<this.choices.length)return this.alert();let $=this.selectable.every((q)=>q.enabled);return this.choices.forEach((q)=>q.enabled=!$),this.render()}i(){if(this.choices.length-this.selected.length>this.maxSelected)return this.alert();return this.choices.forEach(($)=>$.enabled=!$.enabled),this.render()}g(){if(!this.choices.some((q)=>!!q.parent))return this.a();let $=this.focused;return this.toggle($.parent&&!$.choices?$.parent:$),this.render()}toggle($,q){if(!$.enabled&&this.selected.length>=this.maxSelected)return this.alert();if(typeof q!=="boolean")q=!$.enabled;if($.enabled=q,$.choices)$.choices.forEach((R)=>this.toggle(R,q));let w=$.parent;while(w){let R=w.choices.filter((T)=>this.isDisabled(T));w.enabled=R.every((T)=>T.enabled===!0),w=w.parent}return Yq(this,this.choices),this.emit("toggle",$,this),$}enable($){if(this.selected.length>=this.maxSelected)return this.alert();return $.enabled=!this.isDisabled($),$.choices&&$.choices.forEach(this.enable.bind(this)),$}disable($){return $.enabled=!1,$.choices&&$.choices.forEach(this.disable.bind(this)),$}number($){this.num+=$;let q=(w)=>{let R=Number(w);if(R>this.choices.length-1)return this.alert();let T=this.focused,M=this.choices.find((G)=>R===G.index);if(!M.enabled&&this.selected.length>=this.maxSelected)return this.alert();if(this.visible.indexOf(M)===-1){let G=Z$(this.choices),Q=G.indexOf(M);if(T.index>Q){let Y=G.slice(Q,Q+this.limit),X=G.filter((A)=>!Y.includes(A));this.choices=Y.concat(X)}else{let Y=Q-this.limit+1;this.choices=G.slice(Y).concat(G.slice(0,Y))}}return this.index=this.choices.indexOf(M),this.toggle(this.focused),this.render()};return clearTimeout(this.numberTimeout),new Promise((w)=>{let R=this.choices.length,T=this.num,M=(G=!1,Q)=>{if(clearTimeout(this.numberTimeout),G)Q=q(T);this.num="",w(Q)};if(T==="0"||T.length===1&&Number(T+"0")>R)return M(!0);if(Number(T)>R)return M(!1,this.alert());this.numberTimeout=setTimeout(()=>M(!0),this.delay)})}home(){return this.choices=Z$(this.choices),this.index=0,this.render()}end(){let $=this.choices.length-this.limit,q=Z$(this.choices);return this.choices=q.slice($).concat(q.slice(0,$)),this.index=this.limit-1,this.render()}first(){return this.index=0,this.render()}last(){return this.index=this.visible.length-1,this.render()}prev(){if(this.visible.length<=1)return this.alert();return this.up()}next(){if(this.visible.length<=1)return this.alert();return this.down()}right(){if(this.cursor>=this.input.length)return this.alert();return this.cursor++,this.render()}left(){if(this.cursor<=0)return this.alert();return this.cursor--,this.render()}up(){let $=this.choices.length,q=this.visible.length,w=this.index;if(this.options.scroll===!1&&w===0)return this.alert();if($>q&&w===0)return this.scrollUp();if(this.index=(w-1%$+$)%$,this.isDisabled()&&!this.allChoicesAreDisabled())return this.up();return this.render()}down(){let $=this.choices.length,q=this.visible.length,w=this.index;if(this.options.scroll===!1&&w===q-1)return this.alert();if($>q&&w===q-1)return this.scrollDown();if(this.index=(w+1)%$,this.isDisabled()&&!this.allChoicesAreDisabled())return this.down();return this.render()}scrollUp($=0){if(this.choices=YM(this.choices),this.index=$,this.isDisabled())return this.up();return this.render()}scrollDown($=this.visible.length-1){if(this.choices=XM(this.choices),this.index=$,this.isDisabled())return this.down();return this.render()}async shiftUp(){if(this.options.sort===!0){this.sorting=!0,this.swap(this.index-1),await this.up(),this.sorting=!1;return}return this.scrollUp(this.index)}async shiftDown(){if(this.options.sort===!0){this.sorting=!0,this.swap(this.index+1),await this.down(),this.sorting=!1;return}return this.scrollDown(this.index)}pageUp(){if(this.visible.length<=1)return this.alert();if(this.limit=Math.max(this.limit-1,0),this.index=Math.min(this.limit-1,this.index),this._limit=this.limit,this.isDisabled())return this.up();return this.render()}pageDown(){if(this.visible.length>=this.choices.length)return this.alert();if(this.index=Math.max(0,this.index),this.limit=Math.min(this.limit+1,this.choices.length),this._limit=this.limit,this.isDisabled())return this.down();return this.render()}swap($){ZM(this.choices,this.index,$)}allChoicesAreDisabled($=this.choices){return $.every((q)=>this.isDisabled(q))}isDisabled($=this.focused){if($&&["disabled","collapsed","hidden","completing","readonly"].some((w)=>$[w]===!0))return!0;return $&&$.role==="heading"}isEnabled($=this.focused){if(Array.isArray($))return $.every((q)=>this.isEnabled(q));if($.choices){let q=$.choices.filter((w)=>!this.isDisabled(w));return $.enabled&&q.every((w)=>this.isEnabled(w))}return $.enabled&&!this.isDisabled($)}isChoice($,q){return $.name===q||$.index===Number(q)}isSelected($){if(Array.isArray(this.initial))return this.initial.some((q)=>this.isChoice($,q));return this.isChoice($,this.initial)}map($=[],q="value"){return[].concat($||[]).reduce((w,R)=>{return w[R]=this.find(R,q),w},{})}filter($,q){let R=typeof $==="function"?$:(G,Q)=>[G.name,Q].includes($),M=(this.options.multiple?this.state._choices:this.choices).filter(R);if(q)return M.map((G)=>G[q]);return M}find($,q){if(Qq($))return q?$[q]:$;let R=typeof $==="function"?$:(M,G)=>[M.name,G].includes($),T=this.choices.find(R);if(T)return q?T[q]:T}findIndex($){return this.choices.indexOf(this.find($))}async submit(){let $=this.focused;if(!$)return this.alert();if($.newChoice){if(!$.input)return this.alert();return $.updateChoice(),this.render()}if(this.choices.some((M)=>M.newChoice))return this.alert();let{reorder:q,sort:w}=this.options,R=this.multiple===!0,T=this.selected;if(T===void 0)return this.alert();if(Array.isArray(T)&&q!==!1&&w!==!0)T=C0.reorder(T);return this.value=R?T.map((M)=>M.name):T.name,super.submit()}set choices($=[]){this.state._choices=this.state._choices||[],this.state.choices=$;for(let q of $)if(!this.state._choices.some((w)=>w.name===q.name))this.state._choices.push(q);if(!this._initial&&this.options.initial){this._initial=!0;let q=this.initial;if(typeof q==="string"||typeof q==="number"){let w=this.find(q);if(w)this.initial=w.index,this.focus(w,!0)}}}get choices(){return Yq(this,this.state.choices||[])}set visible($){this.state.visible=$}get visible(){return(this.state.visible||this.choices).slice(0,this.limit)}set limit($){this.state.limit=$}get limit(){let{state:$,options:q,choices:w}=this,R=$.limit||this._limit||q.limit||w.length;return Math.min(R,this.height)}set value($){super.value=$}get value(){if(typeof super.value!=="string"&&super.value===this.initial)return this.input;return super.value}set index($){this.state.index=$}get index(){return Math.max(0,this.state?this.state.index:0)}get enabled(){return this.filter(this.isEnabled.bind(this))}get focused(){let $=this.choices[this.index];if($&&this.state.submitted&&this.multiple!==!0)$.enabled=!0;return $}get selectable(){return this.choices.filter(($)=>!this.isDisabled($))}get selected(){return this.multiple?this.enabled:this.focused}}function Yq($,q){if(q instanceof Promise)return q;if(typeof q==="function"){if(C0.isAsyncFn(q))return q;q=q.call($,$)}for(let w of q){if(Array.isArray(w.choices)){let R=w.choices.filter((T)=>!$.isDisabled(T));w.enabled=R.every((T)=>T.enabled===!0)}if($.isDisabled(w)===!0)delete w.enabled}return q}Zq.exports=Xq});var q0=N((M2,Vq)=>{var IM=B0(),I$=m();class Iq extends IM{constructor($){super($);this.emptyError=this.options.emptyError||"No items were selected"}async dispatch($,q){if(this.multiple)return this[q.name]?await this[q.name]($,q):await super.dispatch($,q);this.alert()}separator(){if(this.options.separator)return super.separator();let $=this.styles.muted(this.symbols.ellipsis);return this.state.submitted?super.separator():$}pointer($,q){return!this.multiple||this.options.pointer?super.pointer($,q):""}indicator($,q){return this.multiple?super.indicator($,q):""}choiceMessage($,q){let w=this.resolve($.message,this.state,$,q);if($.role==="heading"&&!I$.hasColor(w))w=this.styles.strong(w);return this.resolve(w,this.state,$,q)}choiceSeparator(){return":"}async renderChoice($,q){await this.onChoice($,q);let w=this.index===q,R=await this.pointer($,q),T=await this.indicator($,q)+($.pad||""),M=await this.resolve($.hint,this.state,$,q);if(M&&!I$.hasColor(M))M=this.styles.muted(M);let G=this.indent($),Q=await this.choiceMessage($,q),Y=()=>[this.margin[3],G+R+T,Q,this.margin[1],M].filter(Boolean).join(" ");if($.role==="heading")return Y();if($.disabled){if(!I$.hasColor(Q))Q=this.styles.disabled(Q);return Y()}if(w)Q=this.styles.em(Q);return Y()}async renderChoices(){if(this.state.loading==="choices")return this.styles.warning("Loading choices");if(this.state.submitted)return"";let $=this.visible.map(async(T,M)=>await this.renderChoice(T,M)),q=await Promise.all($);if(!q.length)q.push(this.styles.danger("No matching choices"));let w=this.margin[0]+q.join(`
`),R;if(this.options.choicesHeader)R=await this.resolve(this.options.choicesHeader,this.state);return[R,w].filter(Boolean).join(`
`)}format(){if(!this.state.submitted||this.state.cancelled)return"";if(Array.isArray(this.selected))return this.selected.map(($)=>this.styles.primary($.name)).join(", ");return this.styles.primary(this.selected.name)}async render(){let{submitted:$,size:q}=this.state,w="",R=await this.header(),T=await this.prefix(),M=await this.separator(),G=await this.message();if(this.options.promptLine!==!1)w=[T,G,M,""].join(" "),this.state.prompt=w;let Q=await this.format(),Y=await this.error()||await this.hint(),X=await this.renderChoices(),A=await this.footer();if(Q)w+=Q;if(Y&&!w.includes(Y))w+=" "+Y;if($&&!Q&&!X.trim()&&this.multiple&&this.emptyError!=null)w+=this.styles.danger(this.emptyError);this.clear(q),this.write([R,w,X,A].filter(Boolean).join(`
`)),this.write(this.margin[2]),this.restore()}}Vq.exports=Iq});var Kq=N((G2,Wq)=>{var VM=q0(),SM=($,q)=>{let w=$?new RegExp($,"ig"):/$^/;return(R)=>{return $?R.replace(w,(T)=>q(T)):R}};class Sq extends VM{constructor($){super($);this.cursorShow()}moveCursor($){this.state.cursor+=$}dispatch($){return this.append($)}space($){return this.options.multiple?super.space($):this.append($)}append($){let{cursor:q,input:w}=this.state;return this.input=w.slice(0,q)+$+w.slice(q),this.moveCursor(1),this.complete()}delete(){let{cursor:$,input:q}=this.state;if(!q)return this.alert();return this.input=q.slice(0,$-1)+q.slice($),this.moveCursor(-1),this.complete()}deleteForward(){let{cursor:$,input:q}=this.state;if(q[$]===void 0)return this.alert();return this.input=`${q}`.slice(0,$)+`${q}`.slice($+1),this.complete()}number($){return this.append($)}async complete(){this.completing=!0,this.choices=await this.suggest(this.input,this.state._choices),this.state.limit=void 0,this.index=Math.min(Math.max(this.visible.length-1,0),this.index),await this.render(),this.completing=!1}suggest($=this.input,q=this.state._choices){if(typeof this.options.suggest==="function")return this.options.suggest.call(this,$,q);let w=$.toLowerCase();return q.filter((R)=>R.message.toLowerCase().includes(w))}pointer(){return""}format(){if(!this.focused)return this.input;if(this.options.multiple&&this.state.submitted)return this.selected.map(($)=>this.styles.primary($.message)).join(", ");if(this.state.submitted){let $=this.value=this.input=this.focused.value;return this.styles.primary($)}return this.input}async render(){if(this.state.status!=="pending")return super.render();let $=this.options.highlight||this.styles.complement,q=(T,M)=>{if(!T)return T;if($.stack)return $(T);return $.call(this,T)},w=SM(this.input,q),R=this.choices;this.choices=R.map((T)=>({...T,message:w(T.message)})),await super.render(),this.choices=R}submit(){if(this.options.multiple)this.value=this.selected.map(($)=>$.name);return super.submit()}}Wq.exports=Sq});var S$=N((J2,Bq)=>{var V$=m();Bq.exports=($,q={})=>{$.cursorHide();let{input:w="",initial:R="",pos:T,showCursor:M=!0,color:G}=q,Q=G||$.styles.placeholder,Y=V$.inverse($.styles.primary),X=(W)=>Y($.styles.black(W)),A=w,j=" ",z=X(j);if($.blink&&$.blink.off===!0)X=(W)=>W,z="";if(M&&T===0&&R===""&&w==="")return X(j);if(M&&T===0&&(w===R||w===""))return X(R[0])+Q(R.slice(1));R=V$.isPrimitive(R)?`${R}`:"",w=V$.isPrimitive(w)?`${w}`:"";let Z=R&&R.startsWith(w)&&R!==w,I=Z?X(R[w.length]):z;if(T!==w.length&&M===!0)A=w.slice(0,T)+X(w[T])+w.slice(T+1),I="";if(M===!1)I="";if(Z){let W=$.styles.unstyle(A+I);return A+I+Q(R.slice(W.length))}return A+I}});var x0=N((Q2,Aq)=>{var WM=e(),KM=q0(),BM=S$();class Lq extends KM{constructor($){super({...$,multiple:!0});this.type="form",this.initial=this.options.initial,this.align=[this.options.align,"right"].find((q)=>q!=null),this.emptyError="",this.values={}}async reset($){if(await super.reset(),$===!0)this._index=this.index;return this.index=this._index,this.values={},this.choices.forEach((q)=>q.reset&&q.reset()),this.render()}dispatch($){return!!$&&this.append($)}append($){let q=this.focused;if(!q)return this.alert();let{cursor:w,input:R}=q;return q.value=q.input=R.slice(0,w)+$+R.slice(w),q.cursor++,this.render()}delete(){let $=this.focused;if(!$||$.cursor<=0)return this.alert();let{cursor:q,input:w}=$;return $.value=$.input=w.slice(0,q-1)+w.slice(q),$.cursor--,this.render()}deleteForward(){let $=this.focused;if(!$)return this.alert();let{cursor:q,input:w}=$;if(w[q]===void 0)return this.alert();let R=`${w}`.slice(0,q)+`${w}`.slice(q+1);return $.value=$.input=R,this.render()}right(){let $=this.focused;if(!$)return this.alert();if($.cursor>=$.input.length)return this.alert();return $.cursor++,this.render()}left(){let $=this.focused;if(!$)return this.alert();if($.cursor<=0)return this.alert();return $.cursor--,this.render()}space($,q){return this.dispatch($,q)}number($,q){return this.dispatch($,q)}next(){let $=this.focused;if(!$)return this.alert();let{initial:q,input:w}=$;if(q&&q.startsWith(w)&&w!==q)return $.value=$.input=q,$.cursor=$.value.length,this.render();return super.next()}prev(){let $=this.focused;if(!$)return this.alert();if($.cursor===0)return super.prev();return $.value=$.input="",$.cursor=0,this.render()}separator(){return""}format($){return!this.state.submitted?super.format($):""}pointer(){return""}indicator($){return $.input?"":""}async choiceSeparator($,q){let w=await this.resolve($.separator,this.state,$,q)||":";return w?" "+this.styles.disabled(w):""}async renderChoice($,q){await this.onChoice($,q);let{state:w,styles:R}=this,{cursor:T,initial:M="",name:G,input:Q=""}=$,{muted:Y,submitted:X,primary:A,danger:j}=R,z=this.index===q,Z=$.validate||(()=>!0),I=await this.choiceSeparator($,q),W=$.message;if(this.align==="right")W=W.padStart(this.longest+1," ");if(this.align==="left")W=W.padEnd(this.longest+1," ");let K=this.values[G]=Q||M,V=Q?"success":"dark";if(await Z.call($,K,this.state)!==!0)V="danger";let L=R[V],J=L(await this.indicator($,q))+($.pad||""),S=this.indent($),B=()=>[S,J,W+I,Q].filter(Boolean).join(" ");if(w.submitted)return W=WM(W),Q=X(Q),B();if($.format)Q=await $.format.call(this,Q,$,q);else{let D=this.styles.muted;Q=BM(this,{input:Q,initial:M,pos:T,showCursor:z,color:D})}if(!this.isValue(Q))Q=this.styles.muted(this.symbols.ellipsis);if($.result)this.values[G]=await $.result.call(this,K,$,q);if(z)W=A(W);if($.error)Q+=(Q?" ":"")+j($.error.trim());else if($.hint)Q+=(Q?" ":"")+Y($.hint.trim());return B()}async submit(){return this.value=this.values,super.base.submit.call(this)}}Aq.exports=Lq});var W$=N((Y2,Dq)=>{var LM=x0(),AM=()=>{throw new Error("expected prompt to have a custom authenticate method")},jq=($=AM)=>{class q extends LM{constructor(w){super(w)}async submit(){this.value=await $.call(this,this.values,this.state),super.base.submit.call(this)}static create(w){return jq(w)}}return q};Dq.exports=jq()});var Nq=N((X2,Uq)=>{var jM=W$();function DM($,q){if($.username===this.options.username&&$.password===this.options.password)return!0;return!1}var Fq=($=DM)=>{let q=[{name:"username",message:"username"},{name:"password",message:"password",format(R){if(this.options.showPassword)return R;return(this.state.submitted?this.styles.primary:this.styles.muted)(this.symbols.asterisk.repeat(R.length))}}];class w extends jM.create($){constructor(R){super({...R,choices:q})}static create(R){return Fq(R)}}return w};Uq.exports=Fq()});var _0=N((Z2,Hq)=>{var FM=Z0(),{isPrimitive:UM,hasColor:NM}=m();class zq extends FM{constructor($){super($);this.cursorHide()}async initialize(){let $=await this.resolve(this.initial,this.state);this.input=await this.cast($),await super.initialize()}dispatch($){if(!this.isValue($))return this.alert();return this.input=$,this.submit()}format($){let{styles:q,state:w}=this;return!w.submitted?q.primary($):q.success($)}cast($){return this.isTrue($)}isTrue($){return/^[ty1]/i.test($)}isFalse($){return/^[fn0]/i.test($)}isValue($){return UM($)&&(this.isTrue($)||this.isFalse($))}async hint(){if(this.state.status==="pending"){let $=await this.element("hint");if(!NM($))return this.styles.muted($);return $}}async render(){let{input:$,size:q}=this.state,w=await this.prefix(),R=await this.separator(),T=await this.message(),M=this.styles.muted(this.default),G=[w,T,M,R].filter(Boolean).join(" ");this.state.prompt=G;let Q=await this.header(),Y=this.value=this.cast($),X=await this.format(Y),A=await this.error()||await this.hint(),j=await this.footer();if(A&&!G.includes(A))X+=" "+A;G+=" "+X,this.clear(q),this.write([Q,G,j].filter(Boolean).join(`
`)),this.restore()}set value($){super.value=$}get value(){return this.cast(super.value)}}Hq.exports=zq});var hq=N((I2,Pq)=>{var zM=_0();class Eq extends zM{constructor($){super($);this.default=this.options.default||(this.initial?"(Y/n)":"(y/N)")}}Pq.exports=Eq});var xq=N((V2,Cq)=>{var HM=q0(),EM=x0(),I0=EM.prototype;class Oq extends HM{constructor($){super({...$,multiple:!0});this.align=[this.options.align,"left"].find((q)=>q!=null),this.emptyError="",this.values={}}dispatch($,q){let w=this.focused,R=w.parent||{};if(!w.editable&&!R.editable){if($==="a"||$==="i")return super[$]()}return I0.dispatch.call(this,$,q)}append($,q){return I0.append.call(this,$,q)}delete($,q){return I0.delete.call(this,$,q)}space($){return this.focused.editable?this.append($):super.space()}number($){return this.focused.editable?this.append($):super.number($)}next(){return this.focused.editable?I0.next.call(this):super.next()}prev(){return this.focused.editable?I0.prev.call(this):super.prev()}async indicator($,q){let w=$.indicator||"",R=$.editable?w:super.indicator($,q);return await this.resolve(R,this.state,$,q)||""}indent($){return $.role==="heading"?"":$.editable?" ":"  "}async renderChoice($,q){if($.indent="",$.editable)return I0.renderChoice.call(this,$,q);return super.renderChoice($,q)}error(){return""}footer(){return this.state.error}async validate(){let $=!0;for(let q of this.choices){if(typeof q.validate!=="function")continue;if(q.role==="heading")continue;let w=q.parent?this.value[q.parent.name]:this.value;if(q.editable)w=q.value===q.name?q.initial||"":q.value;else if(!this.isDisabled(q))w=q.enabled===!0;if($=await q.validate(w,this.state),$!==!0)break}if($!==!0)this.state.error=typeof $==="string"?$:"Invalid Input";return $}submit(){if(this.focused.newChoice===!0)return super.submit();if(this.choices.some(($)=>$.newChoice))return this.alert();this.value={};for(let $ of this.choices){let q=$.parent?this.value[$.parent.name]:this.value;if($.role==="heading"){this.value[$.name]={};continue}if($.editable)q[$.name]=$.value===$.name?$.initial||"":$.value;else if(!this.isDisabled($))q[$.name]=$.enabled===!0}return this.base.submit.call(this)}}Cq.exports=Oq});var G0=N((S2,uq)=>{var PM=Z0(),hM=q$(),OM=S$(),{isPrimitive:CM}=m();class _q extends PM{constructor($){super($);if(this.initial=CM(this.initial)?String(this.initial):"",this.initial)this.cursorHide();this.state.prevCursor=0,this.state.clipboard=[],this.keypressTimeout=this.options.keypressTimeout!==void 0?this.options.keypressTimeout:null}async keypress($,q=$?hM($,{}):{}){let w=Date.now(),R=w-this.lastKeypress;this.lastKeypress=w;let T=q.name==="return"||q.name==="enter",M=this.state.prevKeypress,G;if(this.state.prevKeypress=q,this.keypressTimeout!=null&&T){if(R<this.keypressTimeout)return this.submit();this.state.multilineBuffer=this.state.multilineBuffer||"",this.state.multilineBuffer+=$,G=!0,M=null}if(G||this.options.multiline&&T){if(!M||M.name!=="return")return this.append(`
`,q)}return super.keypress($,q)}moveCursor($){this.cursor+=$}reset(){return this.input=this.value="",this.cursor=0,this.render()}dispatch($,q){if(!$||q.ctrl||q.code)return this.alert();this.append($)}append($){let{cursor:q,input:w}=this.state;this.input=`${w}`.slice(0,q)+$+`${w}`.slice(q),this.moveCursor(String($).length),this.render()}insert($){this.append($)}delete(){let{cursor:$,input:q}=this.state;if($<=0)return this.alert();this.input=`${q}`.slice(0,$-1)+`${q}`.slice($),this.moveCursor(-1),this.render()}deleteForward(){let{cursor:$,input:q}=this.state;if(q[$]===void 0)return this.alert();this.input=`${q}`.slice(0,$)+`${q}`.slice($+1),this.render()}cutForward(){let $=this.cursor;if(this.input.length<=$)return this.alert();this.state.clipboard.push(this.input.slice($)),this.input=this.input.slice(0,$),this.render()}cutLeft(){let $=this.cursor;if($===0)return this.alert();let q=this.input.slice(0,$),w=this.input.slice($),R=q.split(" ");this.state.clipboard.push(R.pop()),this.input=R.join(" "),this.cursor=this.input.length,this.input+=w,this.render()}paste(){if(!this.state.clipboard.length)return this.alert();this.insert(this.state.clipboard.pop()),this.render()}toggleCursor(){if(this.state.prevCursor)this.cursor=this.state.prevCursor,this.state.prevCursor=0;else this.state.prevCursor=this.cursor,this.cursor=0;this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.input.length-1,this.render()}next(){let $=this.initial!=null?String(this.initial):"";if(!$||!$.startsWith(this.input))return this.alert();this.input=this.initial,this.cursor=this.initial.length,this.render()}prev(){if(!this.input)return this.alert();this.reset()}backward(){return this.left()}forward(){return this.right()}right(){if(this.cursor>=this.input.length)return this.alert();return this.moveCursor(1),this.render()}left(){if(this.cursor<=0)return this.alert();return this.moveCursor(-1),this.render()}isValue($){return!!$}async format($=this.value){let q=await this.resolve(this.initial,this.state);if(!this.state.submitted)return OM(this,{input:$,initial:q,pos:this.cursor});return this.styles.submitted($||q)}async render(){let $=this.state.size,q=await this.prefix(),w=await this.separator(),R=await this.message(),T=[q,R,w].filter(Boolean).join(" ");this.state.prompt=T;let M=await this.header(),G=await this.format(),Q=await this.error()||await this.hint(),Y=await this.footer();if(Q&&!G.includes(Q))G+=" "+Q;T+=" "+G,this.clear($),this.write([M,T,Y].filter(Boolean).join(`
`)),this.restore()}}uq.exports=_q});var yq=N((W2,bq)=>{var xM=($)=>$.filter((q,w)=>$.lastIndexOf(q)===w),u0=($)=>xM($).filter(Boolean);bq.exports=($,q={},w="")=>{let{past:R=[],present:T=""}=q,M,G;switch($){case"prev":case"undo":return M=R.slice(0,R.length-1),G=R[R.length-1]||"",{past:u0([w,...M]),present:G};case"next":case"redo":return M=R.slice(1),G=R[0]||"",{past:u0([...M,w]),present:G};case"save":return{past:u0([...R,w]),present:""};case"remove":if(G=u0(R.filter((Q)=>Q!==w)),T="",G.length)T=G.pop();return{past:G,present:T};default:throw new Error(`Invalid action: "${$}"`)}}});var K$=N((K2,vq)=>{var _M=G0(),fq=yq();class gq extends _M{constructor($){super($);let q=this.options.history;if(q&&q.store){let w=q.values||this.initial;this.autosave=!!q.autosave,this.store=q.store,this.data=this.store.get("values")||{past:[],present:w},this.initial=this.data.present||this.data.past[this.data.past.length-1]}}completion($){if(!this.store)return this.alert();if(this.data=fq($,this.data,this.input),!this.data.present)return this.alert();return this.input=this.data.present,this.cursor=this.input.length,this.render()}altUp(){return this.completion("prev")}altDown(){return this.completion("next")}prev(){return this.save(),super.prev()}save(){if(!this.store)return;this.data=fq("save",this.data,this.input),this.store.set("values",this.data)}submit(){if(this.store&&this.autosave===!0)this.save();return super.submit()}}vq.exports=gq});var mq=N((B2,sq)=>{var uM=G0();class kq extends uM{format(){return""}}sq.exports=kq});var rq=N((L2,dq)=>{var bM=G0();class iq extends bM{constructor($={}){super($);this.sep=this.options.separator||/, */,this.initial=$.initial||""}split($=this.value){return $?String($).split(this.sep):[]}format(){let $=this.state.submitted?this.styles.primary:(q)=>q;return this.list.map($).join(", ")}async submit($){let q=this.state.error||await this.validate(this.list,this.state);if(q!==!0)return this.state.error=q,super.submit();return this.value=this.list,super.submit()}get list(){return this.split()}}dq.exports=iq});var cq=N((A2,lq)=>{var yM=q0();class pq extends yM{constructor($){super({...$,multiple:!0})}}lq.exports=pq});var B$=N((j2,nq)=>{var fM=G0();class tq extends fM{constructor($={}){super({style:"number",...$});this.min=this.isValue($.min)?this.toNumber($.min):-1/0,this.max=this.isValue($.max)?this.toNumber($.max):1/0,this.delay=$.delay!=null?$.delay:1000,this.float=$.float!==!1,this.round=$.round===!0||$.float===!1,this.major=$.major||10,this.minor=$.minor||1,this.initial=$.initial!=null?$.initial:"",this.input=String(this.initial),this.cursor=this.input.length,this.cursorShow()}append($){if(!/[-+.]/.test($)||$==="."&&this.input.includes("."))return this.alert("invalid number");return super.append($)}number($){return super.append($)}next(){if(this.input&&this.input!==this.initial)return this.alert();if(!this.isValue(this.initial))return this.alert();return this.input=this.initial,this.cursor=String(this.initial).length,this.render()}up($){let q=$||this.minor,w=this.toNumber(this.input);if(w>this.max+q)return this.alert();return this.input=`${w+q}`,this.render()}down($){let q=$||this.minor,w=this.toNumber(this.input);if(w<this.min-q)return this.alert();return this.input=`${w-q}`,this.render()}shiftDown(){return this.down(this.major)}shiftUp(){return this.up(this.major)}format($=this.input){if(typeof this.options.format==="function")return this.options.format.call(this,$);return this.styles.info($)}toNumber($=""){return this.float?+$:Math.round(+$)}isValue($){return/^[-+]?[0-9]+((\.)|(\.[0-9]+))?$/.test($)}submit(){let $=[this.input,this.initial].find((q)=>this.isValue(q));return this.value=this.toNumber($||0),super.submit()}}nq.exports=tq});var eq=N((D2,aq)=>{var gM=G0();class oq extends gM{constructor($){super($);this.cursorShow()}format($=this.input){if(!this.keypressed)return"";return(this.state.submitted?this.styles.primary:this.styles.muted)(this.symbols.asterisk.repeat($.length))}}aq.exports=oq});var Rw=N((F2,ww)=>{var vM=e(),kM=B0(),$w=m();class qw extends kM{constructor($={}){super($);this.widths=[].concat($.messageWidth||50),this.align=[].concat($.align||"left"),this.linebreak=$.linebreak||!1,this.edgeLength=$.edgeLength||3,this.newline=$.newline||`
   `;let q=$.startNumber||1;if(typeof this.scale==="number")this.scaleKey=!1,this.scale=Array(this.scale).fill(0).map((w,R)=>({name:R+q}))}async reset(){return this.tableized=!1,await super.reset(),this.render()}tableize(){if(this.tableized===!0)return;this.tableized=!0;let $=0;for(let q of this.choices){$=Math.max($,q.message.length),q.scaleIndex=q.initial||2,q.scale=[];for(let w=0;w<this.scale.length;w++)q.scale.push({index:w})}this.widths[0]=Math.min(this.widths[0],$+3)}async dispatch($,q){if(this.multiple)return this[q.name]?await this[q.name]($,q):await super.dispatch($,q);this.alert()}heading($,q,w){return this.styles.strong($)}separator(){return this.styles.muted(this.symbols.ellipsis)}right(){let $=this.focused;if($.scaleIndex>=this.scale.length-1)return this.alert();return $.scaleIndex++,this.render()}left(){let $=this.focused;if($.scaleIndex<=0)return this.alert();return $.scaleIndex--,this.render()}indent(){return""}format(){if(this.state.submitted)return this.choices.map((q)=>this.styles.info(q.index)).join(", ");return""}pointer(){return""}renderScaleKey(){if(this.scaleKey===!1)return"";if(this.state.submitted)return"";return["",...this.scale.map((w)=>`   ${w.name} - ${w.message}`)].map((w)=>this.styles.muted(w)).join(`
`)}renderScaleHeading($){let q=this.scale.map((Q)=>Q.name);if(typeof this.options.renderScaleHeading==="function")q=this.options.renderScaleHeading.call(this,$);let w=this.scaleLength-q.join("").length,R=Math.round(w/(q.length-1)),M=q.map((Q)=>this.styles.strong(Q)).join(" ".repeat(R)),G=" ".repeat(this.widths[0]);return this.margin[3]+G+this.margin[1]+M}scaleIndicator($,q,w){if(typeof this.options.scaleIndicator==="function")return this.options.scaleIndicator.call(this,$,q,w);let R=$.scaleIndex===q.index;if(q.disabled)return this.styles.hint(this.symbols.radio.disabled);if(R)return this.styles.success(this.symbols.radio.on);return this.symbols.radio.off}renderScale($,q){let w=$.scale.map((T)=>this.scaleIndicator($,T,q)),R=this.term==="Hyper"?"":" ";return w.join(R+this.symbols.line.repeat(this.edgeLength))}async renderChoice($,q){await this.onChoice($,q);let w=this.index===q,R=await this.pointer($,q),T=await $.hint;if(T&&!$w.hasColor(T))T=this.styles.muted(T);let M=(Z)=>this.margin[3]+Z.replace(/\s+$/,"").padEnd(this.widths[0]," "),G=this.newline,Q=this.indent($),Y=await this.resolve($.message,this.state,$,q),X=await this.renderScale($,q),A=this.margin[1]+this.margin[3];this.scaleLength=vM(X).length,this.widths[0]=Math.min(this.widths[0],this.width-this.scaleLength-A.length);let z=$w.wordWrap(Y,{width:this.widths[0],newline:G}).split(`
`).map((Z)=>M(Z)+this.margin[1]);if(w)X=this.styles.info(X),z=z.map((Z)=>this.styles.info(Z));if(z[0]+=X,this.linebreak)z.push("");return[Q+R,z.join(`
`)].filter(Boolean)}async renderChoices(){if(this.state.submitted)return"";this.tableize();let $=this.visible.map(async(R,T)=>await this.renderChoice(R,T)),q=await Promise.all($),w=await this.renderScaleHeading();return this.margin[0]+[w,...q.map((R)=>R.join(" "))].join(`
`)}async render(){let{submitted:$,size:q}=this.state,w=await this.prefix(),R=await this.separator(),T=await this.message(),M="";if(this.options.promptLine!==!1)M=[w,T,R,""].join(" "),this.state.prompt=M;let G=await this.header(),Q=await this.format(),Y=await this.renderScaleKey(),X=await this.error()||await this.hint(),A=await this.renderChoices(),j=await this.footer(),z=this.emptyError;if(Q)M+=Q;if(X&&!M.includes(X))M+=" "+X;if($&&!Q&&!A.trim()&&this.multiple&&z!=null)M+=this.styles.danger(z);if(this.clear(q),this.write([G,M,Y,A,j].filter(Boolean).join(`
`)),!this.state.submitted)this.write(this.margin[2]);this.restore()}submit(){this.value={};for(let $ of this.choices)this.value[$.name]=$.scaleIndex;return this.base.submit.call(this)}}ww.exports=qw});var Jw=N((U2,Gw)=>{var Tw=e(),sM=($="")=>{return typeof $==="string"?$.replace(/^['"]|['"]$/g,""):""};class Mw{constructor($){this.name=$.key,this.field=$.field||{},this.value=sM($.initial||this.field.initial||""),this.message=$.message||this.name,this.cursor=0,this.input="",this.lines=[]}}var mM=async($={},q={},w=(R)=>R)=>{let R=new Set,T=$.fields||[],M=$.template,G=[],Q=[],Y=[],X=1;if(typeof M==="function")M=await M();let A=-1,j=()=>M[++A],z=()=>M[A+1],Z=(I)=>{I.line=X,G.push(I)};Z({type:"bos",value:""});while(A<M.length-1){let I=j();if(/^[^\S\n ]$/.test(I)){Z({type:"text",value:I});continue}if(I===`
`){Z({type:"newline",value:I}),X++;continue}if(I==="\\"){I+=j(),Z({type:"text",value:I});continue}if((I==="$"||I==="#"||I==="{")&&z()==="{"){let K=j();I+=K;let V={type:"template",open:I,inner:"",close:"",value:I},L;while(L=j()){if(L==="}"){if(z()==="}")L+=j();V.value+=L,V.close=L;break}if(L===":")V.initial="",V.key=V.inner;else if(V.initial!==void 0)V.initial+=L;V.value+=L,V.inner+=L}if(V.template=V.open+(V.initial||V.inner)+V.close,V.key=V.key||V.inner,hasOwnProperty.call(q,V.key))V.initial=q[V.key];V=w(V),Z(V),Y.push(V.key),R.add(V.key);let J=Q.find((S)=>S.name===V.key);if(V.field=T.find((S)=>S.name===V.key),!J)J=new Mw(V),Q.push(J);J.lines.push(V.line-1);continue}let W=G[G.length-1];if(W.type==="text"&&W.line===X)W.value+=I;else Z({type:"text",value:I})}return Z({type:"eos",value:""}),{input:M,tabstops:G,unique:R,keys:Y,items:Q}};Gw.exports=async($)=>{let q=$.options,w=new Set(q.required===!0?[]:q.required||[]),R={...q.values,...q.initial},{tabstops:T,items:M,keys:G}=await mM(q,R),Q=L$("result",$,q),Y=L$("format",$,q),X=L$("validate",$,q,!0),A=$.isValue.bind($);return async(j={},z=!1)=>{let Z=0;j.required=w,j.items=M,j.keys=G,j.output="";let I=async(L,J,S,B)=>{let D=await X(L,J,S,B);if(D===!1)return"Invalid field "+S.name;return D};for(let L of T){let{value:J,key:S}=L;if(L.type!=="template"){if(J)j.output+=J;continue}if(L.type==="template"){let B=M.find((C)=>C.name===S);if(q.required===!0)j.required.add(B.name);let D=[B.input,j.values[B.value],B.value,J].find(A),H=(B.field||{}).message||L.inner;if(z){let C=await I(j.values[S],j,B,Z);if(C&&typeof C==="string"||C===!1){j.invalid.set(S,C);continue}j.invalid.delete(S);let O=await Q(j.values[S],j,B,Z);j.output+=Tw(O);continue}B.placeholder=!1;let E=J;if(J=await Y(J,j,B,Z),D!==J)j.values[S]=D,J=$.styles.typing(D),j.missing.delete(H);else if(j.values[S]=void 0,D=`<${H}>`,J=$.styles.primary(D),B.placeholder=!0,j.required.has(S))j.missing.add(H);if(j.missing.has(H)&&j.validating)J=$.styles.warning(D);if(j.invalid.has(S)&&j.validating)J=$.styles.danger(D);if(Z===j.index)if(E!==J)J=$.styles.underline(J);else J=$.styles.heading(Tw(J));Z++}if(J)j.output+=J}let W=j.output.split(`
`).map((L)=>" "+L),K=M.length,V=0;for(let L of M){if(j.invalid.has(L.name))L.lines.forEach((J)=>{if(W[J][0]!==" ")return;W[J]=j.styles.danger(j.symbols.bullet)+W[J].slice(1)});if($.isValue(j.values[L.name]))V++}return j.completed=(V/K*100).toFixed(0),j.output=W.join(`
`),j.output}};function L$($,q,w,R){return(T,M,G,Q)=>{if(typeof G.field[$]==="function")return G.field[$].call(q,T,M,G,Q);return[R,T].find((Y)=>q.isValue(Y))}}});var Xw=N((N2,Yw)=>{var iM=e(),dM=Jw(),rM=Z0();class Qw extends rM{constructor($){super($);this.cursorHide(),this.reset(!0)}async initialize(){this.interpolate=await dM(this),await super.initialize()}async reset($){if(this.state.keys=[],this.state.invalid=new Map,this.state.missing=new Set,this.state.completed=0,this.state.values={},$!==!0)await this.initialize(),await this.render()}moveCursor($){let q=this.getItem();this.cursor+=$,q.cursor+=$}dispatch($,q){if(!q.code&&!q.ctrl&&$!=null&&this.getItem()){this.append($,q);return}this.alert()}append($,q){let w=this.getItem(),R=w.input.slice(0,this.cursor),T=w.input.slice(this.cursor);this.input=w.input=`${R}${$}${T}`,this.moveCursor(1),this.render()}delete(){let $=this.getItem();if(this.cursor<=0||!$.input)return this.alert();let q=$.input.slice(this.cursor),w=$.input.slice(0,this.cursor-1);this.input=$.input=`${w}${q}`,this.moveCursor(-1),this.render()}increment($){return $>=this.state.keys.length-1?0:$+1}decrement($){return $<=0?this.state.keys.length-1:$-1}first(){this.state.index=0,this.render()}last(){this.state.index=this.state.keys.length-1,this.render()}right(){if(this.cursor>=this.input.length)return this.alert();this.moveCursor(1),this.render()}left(){if(this.cursor<=0)return this.alert();this.moveCursor(-1),this.render()}prev(){this.state.index=this.decrement(this.state.index),this.getItem(),this.render()}next(){this.state.index=this.increment(this.state.index),this.getItem(),this.render()}up(){this.prev()}down(){this.next()}format($){let q=this.state.completed<100?this.styles.warning:this.styles.success;if(this.state.submitted===!0&&this.state.completed!==100)q=this.styles.danger;return q(`${this.state.completed}% completed`)}async render(){let{index:$,keys:q=[],submitted:w,size:R}=this.state,T=[this.options.newline,`
`].find((V)=>V!=null),M=await this.prefix(),G=await this.separator(),Q=await this.message(),Y=[M,Q,G].filter(Boolean).join(" ");this.state.prompt=Y;let X=await this.header(),A=await this.error()||"",j=await this.hint()||"",z=w?"":await this.interpolate(this.state),Z=this.state.key=q[$]||"",I=await this.format(Z),W=await this.footer();if(I)Y+=" "+I;if(j&&!I&&this.state.completed===0)Y+=" "+j;this.clear(R);let K=[X,Y,z,W,A.trim()];this.write(K.filter(Boolean).join(T)),this.restore()}getItem($){let{items:q,keys:w,index:R}=this.state,T=q.find((M)=>M.name===w[R]);if(T&&T.input!=null)this.input=T.input,this.cursor=T.cursor;return T}async submit(){if(typeof this.interpolate!=="function")await this.initialize();await this.interpolate(this.state,!0);let{invalid:$,missing:q,output:w,values:R}=this.state;if($.size){let G="";for(let[Q,Y]of $)G+=`Invalid ${Q}: ${Y}
`;return this.state.error=G,super.submit()}if(q.size)return this.state.error="Required: "+[...q.keys()].join(", "),super.submit();let M=iM(w).split(`
`).map((G)=>G.slice(1)).join(`
`);return this.value={values:R,result:M},super.submit()}}Yw.exports=Qw});var Vw=N((z2,Iw)=>{var pM=q0();class Zw extends pM{constructor($){super({...$,reorder:!1,sort:!0,multiple:!0});this.state.hint=[this.options.hint,"(Use <shift>+<up/down> to sort)"].find(this.isValue.bind(this))}indicator(){return""}async renderChoice($,q){let w=await super.renderChoice($,q),R=this.symbols.identicalTo+" ",T=this.index===q&&this.sorting?this.styles.muted(R):"  ";if(this.options.drag===!1)T="";if(this.options.numbered===!0)return T+`${q+1} - `+w;return T+w}get selected(){return this.choices}submit(){return this.value=this.choices.map(($)=>$.value),super.submit()}}Iw.exports=Zw});var Kw=N((H2,Ww)=>{var lM=B0();class Sw extends lM{constructor($={}){super($);if(this.emptyError=$.emptyError||"No items were selected",this.term=process.env.TERM_PROGRAM,!this.options.header){let q=["","4 - Strongly Agree","3 - Agree","2 - Neutral","1 - Disagree","0 - Strongly Disagree",""];q=q.map((w)=>this.styles.muted(w)),this.state.header=q.join(`
   `)}}async toChoices(...$){if(this.createdScales)return!1;this.createdScales=!0;let q=await super.toChoices(...$);for(let w of q)w.scale=cM(5,this.options),w.scaleIdx=2;return q}dispatch(){this.alert()}space(){let $=this.focused,q=$.scale[$.scaleIdx],w=q.selected;return $.scale.forEach((R)=>R.selected=!1),q.selected=!w,this.render()}indicator(){return""}pointer(){return""}separator(){return this.styles.muted(this.symbols.ellipsis)}right(){let $=this.focused;if($.scaleIdx>=$.scale.length-1)return this.alert();return $.scaleIdx++,this.render()}left(){let $=this.focused;if($.scaleIdx<=0)return this.alert();return $.scaleIdx--,this.render()}indent(){return"   "}async renderChoice($,q){await this.onChoice($,q);let w=this.index===q,R=this.term==="Hyper",T=!R?8:9,M=!R?" ":"",G=this.symbols.line.repeat(T),Q=" ".repeat(T+(R?0:1)),Y=(L)=>(L?this.styles.success(""):"")+M,X=q+1+".",A=w?this.styles.heading:this.styles.noop,j=await this.resolve($.message,this.state,$,q),z=this.indent($),Z=z+$.scale.map((L,J)=>Y(J===$.scaleIdx)).join(G),I=(L)=>L===$.scaleIdx?A(L):L,W=z+$.scale.map((L,J)=>I(J)).join(Q),K=()=>[X,j].filter(Boolean).join(" "),V=()=>[K(),Z,W," "].filter(Boolean).join(`
`);if(w)Z=this.styles.cyan(Z),W=this.styles.cyan(W);return V()}async renderChoices(){if(this.state.submitted)return"";let $=this.visible.map(async(w,R)=>await this.renderChoice(w,R)),q=await Promise.all($);if(!q.length)q.push(this.styles.danger("No matching choices"));return q.join(`
`)}format(){if(this.state.submitted)return this.choices.map((q)=>this.styles.info(q.scaleIdx)).join(", ");return""}async render(){let{submitted:$,size:q}=this.state,w=await this.prefix(),R=await this.separator(),T=await this.message(),M=[w,T,R].filter(Boolean).join(" ");this.state.prompt=M;let G=await this.header(),Q=await this.format(),Y=await this.error()||await this.hint(),X=await this.renderChoices(),A=await this.footer();if(Q||!Y)M+=" "+Q;if(Y&&!M.includes(Y))M+=" "+Y;if($&&!Q&&!X&&this.multiple&&this.type!=="form")M+=this.styles.danger(this.emptyError);this.clear(q),this.write([M,G,X,A].filter(Boolean).join(`
`)),this.restore()}submit(){this.value={};for(let $ of this.choices)this.value[$.name]=$.scaleIdx;return this.base.submit.call(this)}}function cM($,q={}){if(Array.isArray(q.scale))return q.scale.map((R)=>({...R}));let w=[];for(let R=1;R<$+1;R++)w.push({i:R,selected:!1});return w}Ww.exports=Sw});var Aw=N((E2,Lw)=>{var tM=_0();class Bw extends tM{async initialize(){await super.initialize(),this.value=this.initial=this.resolve(this.options.initial),this.disabled=this.options.disabled||"no",this.enabled=this.options.enabled||"yes",await this.render()}reset(){this.value=this.initial,this.render()}delete(){this.alert()}toggle(){this.value=!this.value,this.render()}enable(){if(this.value===!0)return this.alert();this.value=!0,this.render()}disable(){if(this.value===!1)return this.alert();this.value=!1,this.render()}up(){this.toggle()}down(){this.toggle()}right(){this.toggle()}left(){this.toggle()}next(){this.toggle()}prev(){this.toggle()}dispatch($="",q){switch($.toLowerCase()){case" ":return this.toggle();case"1":case"y":case"t":return this.enable();case"0":case"n":case"f":return this.disable();default:return this.alert()}}format(){let $=(w)=>this.styles.primary.underline(w);return[this.value?this.disabled:$(this.disabled),this.value?$(this.enabled):this.enabled].join(this.styles.muted(" / "))}async render(){let{size:$}=this.state,q=await this.header(),w=await this.prefix(),R=await this.separator(),T=await this.message(),M=await this.format(),G=await this.error()||await this.hint(),Q=await this.footer(),Y=[w,T,R,M].join(" ");if(this.state.prompt=Y,G&&!Y.includes(G))Y+=" "+G;this.clear($),this.write([q,Y,Q].filter(Boolean).join(`
`)),this.write(this.margin[2]),this.restore()}}Lw.exports=Bw});var Fw=N((P2,Dw)=>{var nM=q0();class jw extends nM{constructor($){super($);if(typeof this.options.correctChoice!=="number"||this.options.correctChoice<0)throw new Error("Please specify the index of the correct answer from the list of choices")}async toChoices($,q){let w=await super.toChoices($,q);if(w.length<2)throw new Error("Please give at least two choices to the user");if(this.options.correctChoice>w.length)throw new Error("Please specify the index of the correct answer from the list of choices");return w}check($){return $.index===this.options.correctChoice}async result($){return{selectedAnswer:$,correctAnswer:this.options.choices[this.options.correctChoice].value,correct:await this.check(this.state)}}}Dw.exports=jw});var Nw=N((A$)=>{var Uw=m(),g=($,q)=>{Uw.defineExport(A$,$,q),Uw.defineExport(A$,$.toLowerCase(),q)};g("AutoComplete",()=>Kq());g("BasicAuth",()=>Nq());g("Confirm",()=>hq());g("Editable",()=>xq());g("Form",()=>x0());g("Input",()=>K$());g("Invisible",()=>mq());g("List",()=>rq());g("MultiSelect",()=>cq());g("Numeral",()=>B$());g("Password",()=>eq());g("Scale",()=>Rw());g("Select",()=>q0());g("Snippet",()=>Xw());g("Sort",()=>Vw());g("Survey",()=>Kw());g("Text",()=>K$());g("Toggle",()=>Aw());g("Quiz",()=>Fw())});var Hw=N((O2,zw)=>{zw.exports={ArrayPrompt:B0(),AuthPrompt:W$(),BooleanPrompt:_0(),NumberPrompt:B$(),StringPrompt:G0()}});var hw=N((C2,Pw)=>{var Ew=s("assert"),D$=s("events"),w0=m();class c extends D${constructor($,q){super();this.options=w0.merge({},$),this.answers={...q}}register($,q){if(w0.isObject($)){for(let R of Object.keys($))this.register(R,$[R]);return this}Ew.equal(typeof q,"function","expected a function");let w=$.toLowerCase();if(q.prototype instanceof this.Prompt)this.prompts[w]=q;else this.prompts[w]=q(this.Prompt,this);return this}async prompt($=[]){for(let q of[].concat($))try{if(typeof q==="function")q=await q.call(this);await this.ask(w0.merge({},this.options,q))}catch(w){return Promise.reject(w)}return this.answers}async ask($){if(typeof $==="function")$=await $.call(this);let q=w0.merge({},this.options,$),{type:w,name:R}=$,{set:T,get:M}=w0;if(typeof w==="function")w=await w.call(this,$,this.answers);if(!w)return this.answers[R];if(w==="number")w="numeral";Ew(this.prompts[w],`Prompt "${w}" is not registered`);let G=new this.prompts[w](q),Q=M(this.answers,R);if(G.state.answers=this.answers,G.enquirer=this,R)G.on("submit",(X)=>{this.emit("answer",R,X,G),T(this.answers,R,X)});let Y=G.emit.bind(G);if(G.emit=(...X)=>{return this.emit.call(this,...X),Y(...X)},this.emit("prompt",G,this),q.autofill&&Q!=null){if(G.value=G.input=Q,q.autofill==="show")await G.submit()}else Q=G.value=await G.run();return Q}use($){return $.call(this,this),this}set Prompt($){this._Prompt=$}get Prompt(){return this._Prompt||this.constructor.Prompt}get prompts(){return this.constructor.prompts}static set Prompt($){this._Prompt=$}static get Prompt(){return this._Prompt||Z0()}static get prompts(){return Nw()}static get types(){return Hw()}static get prompt(){let $=(q,...w)=>{let R=new this(...w),T=R.emit.bind(R);return R.emit=(...M)=>{return $.emit(...M),T(...M)},R.prompt(q)};return w0.mixinEmitter($,new D$),$}}w0.mixinEmitter(c,new D$);var j$=c.prompts;for(let $ of Object.keys(j$)){let q=$.toLowerCase(),w=(R)=>new j$[$](R).run();if(c.prompt[q]=w,c[q]=w,!c[$])Reflect.defineProperty(c,$,{get:()=>j$[$]})}var L0=($)=>{w0.defineExport(c,$,()=>c.types[$])};L0("ArrayPrompt");L0("AuthPrompt");L0("BooleanPrompt");L0("NumberPrompt");L0("StringPrompt");Pw.exports=c});var k$=f0(v$(),1),{program:GG,createCommand:JG,createArgument:QG,createOption:YG,CommanderError:XG,InvalidArgumentError:ZG,InvalidOptionArgumentError:IG,Command:s$,Argument:VG,Option:SG,Help:WG}=k$.default;var D1=f0(j1(),1);import{spawn as aR}from"node:child_process";import eR from"node:fs";import $T from"node:path";class z0{packageManager;appName;constructor($){this.packageManager=$;let q=JSON.parse(eR.readFileSync($T.join(process.cwd(),"package.json"),"utf-8"));this.appName=q.name}async execute(){console.log("\uD83C\uDF88 Building application..."),await this.runCommand(this.packageManager,["run","build"]),console.log(" Build completed")}async createZip($,q){console.log(`\uD83D\uDCE6 Creating deployment package (${q})...`);let w=new D1.default;w.addLocalFolder("./dist");let R=`./${this.appName}-${$}-${q}.zip`;await w.writeZipPromise(R),console.log(`\uD83C\uDF89 Package created: ${R}`)}runCommand($,q){return new Promise((w,R)=>{let T=aR($,q,{stdio:"inherit",shell:!0});T.on("close",(M)=>{if(M===0)w();else R(new Error(`Command failed with exit code ${M}`))}),T.on("error",(M)=>{R(M)})})}}import H0 from"node:fs";class n0{major;minor;patch;stuff;releaseType;constructor($,q,w,R,T=""){this.major=$;this.minor=q;this.patch=w;this.stuff=R;this.releaseType=T}increment($){if($!=="none")this[$]+=1;return this}toString(){let $=`v${this.major}.${this.minor}.${this.patch}.${this.stuff}`;return this.releaseType?`${$}-${this.releaseType}`:$}}class o0{urls;activeTarget;constructor($,q){this.urls=$;this.activeTarget=q;if(!(q in $))throw new Error(`Initial target '${q}' not found in URLs`)}setTarget($){if(!($ in this.urls))throw new Error(`Target '${$}' not found`);this.activeTarget=$}get currentTarget(){return this.activeTarget}get currentUrl(){return this.urls[this.activeTarget]}get availableTargets(){return Object.keys(this.urls)}}class i{version;deployment;static CONFIG_PATH="./stuffer.config.json";packageManager="npm";constructor($,q,w){this.version=$;this.deployment=q;if(w)this.packageManager=w}static async init(){if(await i.configExists()){console.log("Configuration already exists");return}let $={version:{major:0,minor:0,patch:0,stuff:0},urls:{production:"https://api.example.com",staging:"https://staging.example.com"},currentUrlName:"staging",packageManager:"npm"};await H0.promises.writeFile(i.CONFIG_PATH,JSON.stringify($,null,2)),console.log(" Created default configuration file")}static async configExists(){return H0.existsSync(i.CONFIG_PATH)}static async load(){if(!await i.configExists())throw new Error("Config file not found. Run 'stuffer init' first.");let $=await H0.promises.readFile(i.CONFIG_PATH,"utf-8"),q=JSON.parse($),w=new n0(q.version.major,q.version.minor,q.version.patch,q.version.stuff,q.version.mode),R=new o0(q.urls,q.currentUrlName);return new i(w,R,q.packageManager)}async save(){let $={version:{major:this.version.major,minor:this.version.minor,patch:this.version.patch,stuff:this.version.stuff,mode:this.version.releaseType},urls:{...this.deployment.urls},currentUrlName:this.deployment.currentTarget,packageManager:this.packageManager};await H0.promises.writeFile(i.CONFIG_PATH,JSON.stringify($,null,2))}get currentVersion(){return this.version}updateVersion($){return this.version.increment($),this.version}get deploymentManager(){return this.deployment}getPackageManager(){return this.packageManager}async setPackageManager($){this.packageManager=$,await this.save()}}var b0=f0(hw(),1);class J0{static async selectVersionIncrement(){let{level:$}=await b0.default.prompt({type:"select",name:"level",message:"Select version increment:",choices:["major","minor","patch","stuff","none"]});return $}static async selectDeploymentTarget($){let{target:q}=await b0.default.prompt({type:"select",name:"target",message:"Select deployment target:",choices:$});return q}static async selectPackageManager(){let{manager:$}=await b0.default.prompt({type:"select",name:"manager",message:"Select package manager:",choices:["npm","bun"]});return $}}async function Ow(){let $=new s$().name("stuffer").description("Build and deployment tool").version("v0.0.0");$.command("v").description("Update version").action(async()=>{let q=await i.load(),w=await J0.selectVersionIncrement();q.updateVersion(w),await q.save(),console.log(`\uD83C\uDD95 New version: ${q.currentVersion.toString()}`)}),$.command("url").description("Change deployment target").action(async()=>{let q=await i.load(),w=await J0.selectDeploymentTarget(q.deploymentManager.availableTargets);q.deploymentManager.setTarget(w),await q.save(),console.log(`\uD83C\uDF0D Deployment target set to: ${w}`)}),$.command("pm").description("Change package manager").action(async()=>{let q=await i.load(),w=await J0.selectPackageManager();await q.setPackageManager(w),console.log(`\uD83D\uDCE6 Package manager set to: ${w}`)}),$.command("build").description("Build and package application").action(async()=>{let q=await i.load(),w=new z0(q.getPackageManager());await w.execute(),await w.createZip(q.currentVersion.toString(),q.deploymentManager.currentTarget)}),$.command("vub").description("Version update  URL selection  Build").action(async()=>{let q=await i.load(),w=await J0.selectVersionIncrement();q.updateVersion(w);let R=await J0.selectDeploymentTarget(q.deploymentManager.availableTargets);q.deploymentManager.setTarget(R),await q.save(),console.log(` Updated to ${q.currentVersion.toString()} for ${R}`);let T=new z0(q.getPackageManager());await T.execute(),await T.createZip(q.currentVersion.toString(),q.deploymentManager.currentTarget)}),$.command("init").description("Create a default config file").action(async()=>{await i.init()}),await $.parseAsync(process.argv)}Ow().catch(($)=>{console.error(" Error:",$.message),process.exit(1)});
